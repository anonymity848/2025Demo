(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{119:function(e,t,n){e.exports=n(177)},169:function(e,t,n){},175:function(e,t,n){},177:function(e,t,n){"use strict";n.r(t);var r=n(20),a=n(29),o=n(9),i=n(31),l=n(23),c=function(e){return{type:"SET_ACTIVE_COMPONENT",component:e}},s=function(e){return{type:"SET_CANDIDATES",candidates:e}},u=function(e,t,n){return{type:"SET_DATASET",points:e,mask:t,attributes:n}},h=function(e,t){return{type:"TOGGLE_MASK",mask:Object(l.a)({},e,t)}},f=function(e,t){return{type:"PRUNE_POINTS",indices:e,step:t}},p=function(e){return{type:"SET_LEFT_POINTS",indices:e}},m=function(e){return{type:"SET_MODE",mode:e}},d=function(e){return{type:"SET_K",K:e}},g=function(e){return{type:"UPDATE_CONVEX_HULL",vertices:e}},v=Object(a.b)({activeComponent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Welcome",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ACTIVE_COMPONENT":return t.component;default:return e}},points:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DATASET":return t.points;default:return e}},labels:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LABEL":return t.labels;default:return e}},attributes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DATASET":return t.attributes;default:return e}},candidates:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CANDIDATES":return t.candidates;default:return e}},mask:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DATASET":return Object(i.a)({},t.mask);case"TOGGLE_MASK":return Object(i.a)({},e,t.mask);default:return e}},prunedPoints:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RESTART":return[];case"PRUNE_POINTS":var n=t.indices.map(function(e){return[e,t.step]});return[].concat(Object(o.a)(n),Object(o.a)(e));default:return e}},leftPoints:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RESTART":return[];case"SET_LEFT_POINTS":return t.indices;case"PRUNE_POINTS":return e.filter(function(e){return-1===t.indices.indexOf(e)});default:return e}},numLeftPoints:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LEFT_POINTS":return[t.indices.length];case"PRUNE_POINTS":var n=e[e.length-1];return[].concat(Object(o.a)(e),[n-t.indices.length]);default:return e}},mode:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"sptree",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MODE":return t.mode;default:return e}},selectedDataset:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"car",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SELECTEDDATASET":return t.ds;default:return e}},vertices:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_CONVEX_HULL":return t.vertices;default:return e}},scores:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SCORE":return t.scores;default:return e}},userName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_NAME":return t.name;default:return e}},userEmail:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_EMAIL":return t.email;default:return e}},interactionResults:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_INTERACTION_RESULT":return t.interactionResults;default:return e}},radius:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RESTART":return[];case"SET_RADIUS":return t.radius;default:return e}}}),y=n(0),b=n.n(y),E=n(42),x=n(7),w=n(3),k=n(4),O=n(5),N=n(6),S=n(2);function j(){j=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(R){c=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),l=new N(a||[]);return r(i,"_invoke",{value:x(e,n,l)}),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(R){return{type:"throw",arg:R}}}e.wrap=s;var h={};function f(){}function p(){}function m(){}var d={};c(d,o,function(){return this});var g=Object.getPrototypeOf,v=g&&g(g(S([])));v&&v!==t&&n.call(v,o)&&(d=v);var y=m.prototype=f.prototype=Object.create(d);function b(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;r(this,"_invoke",{value:function(r,o){function i(){return new t(function(a,i){!function r(a,o,i,l){var c=u(e[a],e,o);if("throw"!==c.type){var s=c.arg,h=s.value;return h&&"object"==typeof h&&n.call(h,"__await")?t.resolve(h.__await).then(function(e){r("next",e,i,l)},function(e){r("throw",e,i,l)}):t.resolve(h).then(function(e){s.value=e,i(s)},function(e){return r("throw",e,i,l)})}l(c.arg)}(r,o,a,i)})}return a=a?a.then(i,i):i()}})}function x(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return T()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var l=w(i,n);if(l){if(l===h)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function w(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,h;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:T}}function T(){return{value:void 0,done:!0}}return p.prototype=m,r(y,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:p,configurable:!0}),p.displayName=c(m,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,l,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),c(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new E(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(y),c(y,l,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=S,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}var T=function(){var e=Object(r.a)(j().mark(function e(t){var n,r,a;return j().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.next=5,n.text();case 5:return r=e.sent,a=r.trim().split("\n").map(function(e){var t=e.trim().split(/\s+/),n=t.slice(0,3),r=t.slice(3).map(function(e){return+e});return[].concat(Object(o.a)(n),Object(o.a)(r))}),e.abrupt("return",a);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),R=function(e,t,n,r){for(var a,o,i,l=[],c=0;c<e.length&&!(l.length>=r);++c){for(var s=[],u=0;u<3;++u)n[u]&&s.push(e[c][u]);for(var h=!0,f=3;f<e[0].length;++f){if(n[f]&&(a=e[c][f],o=t[f-3][0],i=t[f-3][1],!(o<=a&&a<=i))){h=!1;break}n[f]&&s.push(e[c][f])}h&&l.push(s)}return l};var P=function(e,t){for(var n=[],r=new Set,a=0;a<e.length;++a){for(var o=[],i=0;i<3;++i)t[i]&&o.push(e[a][i]);var l=JSON.stringify(o);r.has(l)||(n.push(o),r.add(l))}return n},C=function(e){var t=new window.Module.VecVecDouble;return e.forEach(function(e){var n=new window.Module.VectorDouble;e.forEach(function(e){return n.push_back(e)}),t.push_back(n),n.delete()}),t},L=function(e){for(var t=[],n=0;n<e.size();++n)t.push(e.get(n));return t},A=function(e,t,n,r){for(var a=0;a<3;a++)if(e[a]!==t[a])return 0;for(var o=3;o<e.length;o++)if(1===r.at(o))if(1===n[o]){if(e[o]>t[o])return 0}else if(e[o]<t[o])return 0;return 1},M=function(e,t,n){var r,a,o,i,l=0;console.log(t,n);var c=new Array(e.length);for(r=0;r<e.length;r++){o=0;var s=e.at(r).slice();for(a=0;a<l&&!o;++a)A(e[c[a]],s,t,n)&&(o=1);if(!o){for(i=l,l=0,a=0;a<i;a++)A(s,e[c[a]],t,n)||(c[l++]=c[a]);c[l++]=r}}console.log(c);for(var u=[],h=0;h<l;++h)u.push(e[c[h]]);return u},_=(n(49),n(83)),I=n.n(_);n(50),n(51),n(24);function D(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(S.a)(e);if(t){var a=Object(S.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(N.a)(this,n)}}var G=function(e){Object(O.a)(n,e);var t=D(n);function n(){var e;Object(w.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={selectedDataset:e.props.selectedDataset},e.handleStart=function(){["car"].includes(e.props.selectedDataset)?e.props.startCar():e.props.startNBA()},e.handleChange=function(t){e.setState({selectedDataset:t.target.value}),e.props.changeSelectedDataset(t.target.value)},e}return Object(k.a)(n,[{key:"render",value:function(){var e=[];return e.push(b.a.createElement("tr",null,b.a.createElement("td",{className:"align-middle",colSpan:"2"},b.a.createElement("div",{className:"form-check form-check-inline custom-radio-spacing"},b.a.createElement("input",{className:"form-check-input",type:"radio",name:"dataset",value:"car",onChange:this.handleChange,id:"carRadio",checked:"car"===this.state.selectedDataset}),b.a.createElement("label",{className:"form-check-label",htmlFor:"carRadio"},"Car Dataset")),b.a.createElement("div",{className:"form-check form-check-inline"},b.a.createElement("input",{className:"form-check-input",type:"radio",name:"dataset",value:"nba",onChange:this.handleChange,id:"nbaRadio",checked:"nba"===this.state.selectedDataset}),b.a.createElement("label",{className:"form-check-label",htmlFor:"nbaRadio"},"NBA Dataset"))))),b.a.createElement("div",{className:"text-center m-auto",style:{maxWidth:"100%"}},b.a.createElement("img",{alt:"",src:I.a,style:{width:"100%"}}),b.a.createElement("br",null),b.a.createElement("br",null),b.a.createElement("br",null),b.a.createElement("br",null),b.a.createElement("br",null),b.a.createElement("br",null),b.a.createElement("br",null),b.a.createElement("br",null),b.a.createElement("br",null),b.a.createElement("br",null),b.a.createElement("h4",{style:{background:"linear-gradient(to right, #89bfe9, #5271a6)",borderRadius:"5px",textAlign:"left",padding:"5px",boxShadow:"3px 3px 5px rgba(0, 0, 0, 0.5)"}},"Please select the Dataset for Recommendation"),b.a.createElement("table",{className:"table"},b.a.createElement("tbody",null,e)),b.a.createElement("br",null),b.a.createElement("br",null),b.a.createElement("br",null),b.a.createElement("br",null),b.a.createElement("div",null,b.a.createElement("button",{type:"button",className:"modern-btn",style:{width:"8rem"},onClick:this.handleStart},"Next")),b.a.createElement("br",null))}}]),n}(b.a.Component),V=Object(x.b)(function(e){return{selectedDataset:e.selectedDataset}},function(e){return{startCar:function(){e(c("CarWelcome"))},startNBA:function(){e(c("NBAWelcome"))},changeSelectedDataset:function(t){return e(function(e){return{type:"SET_SELECTEDDATASET",ds:e}}(t))}}})(G);function B(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(S.a)(e);if(t){var a=Object(S.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(N.a)(this,n)}}var F=function(e){Object(O.a)(n,e);var t=B(n);function n(e){var r;return Object(w.a)(this,n),(r=t.call(this,e)).handleSPTree=function(){r.props.SPTree()},r.handleGEGraph=function(){r.props.GEGraph()},r}return Object(k.a)(n,[{key:"render",value:function(){return b.a.createElement("div",{className:"text-center m-auto",style:{maxWidth:"55rem"}},b.a.createElement("h1",null,"You will be asked a few questions that can help us to learn your preference. Then, a car will be recommended to you."),b.a.createElement("br",null),b.a.createElement("p",{className:"lead text-muted"},"Please select one algorithm for your car recommendation."),b.a.createElement("br",null),b.a.createElement("br",null),b.a.createElement("div",null,b.a.createElement("button",{type:"button",className:"btn btn-primary",style:{width:"18rem"},onClick:this.handleSPTree},"Algorithm SP-Tree")),b.a.createElement("br",null),b.a.createElement("div",null,b.a.createElement("button",{type:"button",className:"btn btn-primary",style:{width:"18rem"},onClick:this.handleGEGraph},"Algorithm GE-Graph")))}}]),n}(b.a.Component),U=Object(x.b)(function(e){return{attributes:e.attributes,mask:e.mask,points:e.points,mode:e.mode}},function(e){return{SPTree:function(){return e(c("SPTree"))},GEGraph:function(){return e(c("GEGraph"))}}})(F);function W(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(S.a)(e);if(t){var a=Object(S.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(N.a)(this,n)}}var z=function(e){Object(O.a)(n,e);var t=W(n);function n(e){var r;return Object(w.a)(this,n),(r=t.call(this,e)).handleStart=function(){r.props.start()},r.handleModeChange=function(e){r.props.changeMode(e.target.value)},r}return Object(k.a)(n,[{key:"render",value:function(){return b.a.createElement("div",{className:"text-center m-auto",style:{maxWidth:"50rem"}},b.a.createElement("h1",null,"Instructions"),b.a.createElement("br",null),b.a.createElement("br",null),b.a.createElement("p",{className:"lead text-left",style:{fontSize:"30px"}},"There are two phases: Interaction and Evaluation. ",b.a.createElement("br",null)),b.a.createElement("p",{className:"lead text-left"},"Phase 1 (Interaction): In the Interaction phase, we want to ask you a few questions to learn your preference and then find some cars that you will be interested in. ",b.a.createElement("br",null),b.a.createElement("br",null),"Phase 2 (Evaluation): In the Evaluation phase, we will present you some cars and ask you whether you are interested in them.",b.a.createElement("br",null),b.a.createElement("br",null)),b.a.createElement("p",{className:"lead text-muted"},'Click the "Start" button to start the research project. ',b.a.createElement("br",null)),b.a.createElement("div",null,b.a.createElement("button",{type:"button",className:"btn btn-primary",style:{width:"8rem"},onClick:this.handleStart},"Start")))}}]),n}(b.a.Component),Y=Object(x.b)(function(e){return{attributes:e.attributes,mask:e.mask,points:e.points,mode:e.mode}},function(e){return{start:function(){e(c("PhaseOne"))},toggleMask:function(t,n){return e(h(t,n))},changeMode:function(t){return e(m(t))}}})(z);function H(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(S.a)(e);if(t){var a=Object(S.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(N.a)(this,n)}}var q=function(e){Object(O.a)(n,e);var t=H(n);function n(e){var r;return Object(w.a)(this,n),(r=t.call(this,e)).handleStart=function(){r.props.start()},r.handleModeChange=function(e){r.props.changeMode(e.target.value)},r.inputs={},r.inputs.name=b.a.createRef(),r.inputs.email=b.a.createRef(),r}return Object(k.a)(n,[{key:"render",value:function(){return b.a.createElement("div",{className:"text-center m-auto",style:{maxWidth:"40rem"}},b.a.createElement("h1",null,"Phase Two: Evaluation"),b.a.createElement("br",null),b.a.createElement("br",null),b.a.createElement("h4",null,"You just ended phase one. We are now going to phase two Evaluation. We will present you some cars and ask you whether you are interested in them. ",b.a.createElement("br",null)),b.a.createElement("br",null),b.a.createElement("p",{className:"lead text-muted"},'Click the "Continue" button to continue. ',b.a.createElement("br",null)),b.a.createElement("div",null,b.a.createElement("button",{type:"button",className:"btn btn-primary",style:{width:"8rem"},onClick:this.handleStart},"Continue")))}}]),n}(b.a.Component),Q=(Object(x.b)(function(e){return{attributes:e.attributes,mask:e.mask,points:e.points,mode:e.mode}},function(e){return{start:function(){e(c("Result"))},toggleMask:function(t,n){return e(h(t,n))},changeMode:function(t){return e(m(t))}}})(q),n(8));function K(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(S.a)(e);if(t){var a=Object(S.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(N.a)(this,n)}}var X=2,J=1,$=function(e){Object(O.a)(n,e);var t=K(n);function n(e){var r;Object(w.a)(this,n),(r=t.call(this,e)).choose=function(e){var t=e+1,n=r.state.pair.map(function(e,t){var n="\n";return r.props.candidates[e].forEach(function(e,t){n+=e.toString(),n+="  "}),n});if(n.push("\n"),n.push(t),n.push("\n"),console.log(n),r.state.interRR.push(n),r.runner.choose(t)>.99999)r.stopInteraction();else{var a=r.runner.nextPair();r.setState({pair:L(a)})}},r.stopInteraction=function(){var e=r.runner.getRanking();r.props.setLeftPoints(L(e));var t=r.runner.getScore();r.props.setScore(L(t)),r.runner.delete(),r.props.showResult(r.state.interRR)};var a=new window.Module.VectorInt;r.attributes=[],r.props.attributes.forEach(function(e){var t=Object(Q.a)(e,2),n=t[0],o=t[1];r.props.mask[n]&&(a.push_back(o.smallerBetter?1:0),r.attributes.push(n))});var o=C(r.props.candidates);r.runner=new window.Module.AlgorithmRunner(o,a,"random"===r.props.mode?J:X),o.delete();var i=r.runner.nextPair();return r.state={pair:L(i),interRR:[]},r}return Object(k.a)(n,[{key:"render",value:function(){var e=this,t=[b.a.createElement("th",{key:"Option No."},"Option")];this.attributes.forEach(function(e){t.push(b.a.createElement("th",{key:e},e))}),t.push(b.a.createElement("th",{key:"chooseButton"}));var n=this.state.pair.map(function(t,n){var r=[b.a.createElement("td",{key:"Option No."},n+1)];return e.props.candidates[t].forEach(function(e,t){r.push(b.a.createElement("td",{key:t},e))}),r.push(b.a.createElement("td",{key:"chooseButton"},b.a.createElement("button",{type:"button",className:"btn btn-outline-success btn-sm",onClick:function(){return e.choose(n)}},"Choose"))),b.a.createElement("tr",{key:n,"data-toggle":"tooltip",title:e.props.labels[t]},r)});return b.a.createElement("div",null,b.a.createElement("h3",null,"Phase One: Interaction  "),b.a.createElement("br",null),b.a.createElement("br",null),b.a.createElement("h4",null,"Q",this.runner.getNumQuestion(),": Choose the Car you favor more between the following options"),b.a.createElement("div",{className:"row justify-content-center align-items-center"},b.a.createElement("div",{className:"col-md-8"},b.a.createElement("table",{className:"table table-hover text-center"},b.a.createElement("thead",null,b.a.createElement("tr",null,t)),b.a.createElement("tbody",null,n)))))}}]),n}(b.a.Component),Z=(Object(x.b)(function(e){return{labels:e.labels,candidates:e.candidates,mask:e.mask,attributes:e.attributes,numLeftPoints:e.numLeftPoints,mode:e.mode,scores:e.scores}},function(e){return{showResult:function(t){e({type:"SET_INTERACTION_RESULT",interactionResults:t}),e(c("PhaseTwo"))},setLeftPoints:function(t){e(p(t))},setScore:function(t){e(function(e){return{type:"SET_SCORE",scores:e}}(t))},prunePoints:function(t,n){e(f(t,n))},updateConvexHull:function(t){e(g(t))}}})($),n(11));n(61);function ee(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(S.a)(e);if(t){var a=Object(S.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(N.a)(this,n)}}var te=function(e){Object(O.a)(n,e);var t=ee(n);function n(e){var r;return Object(w.a)(this,n),(r=t.call(this,e)).toggleShowMore=function(){r.setState(function(e){return{showMore:!e.showMore}})},r._onMouseLeave=function(){r.setState({hintValue:null})},r._onNearestX=function(e,t){var n=t.index;r.setState({hintValue:r.props.data[n]})},r.state={hintValue:null,showMore:!1},r}return Object(k.a)(n,[{key:"render",value:function(){var e=this.state.showMore;return b.a.createElement("div",null,b.a.createElement("div",{style:{width:"30rem",height:"26rem"}},b.a.createElement(Z.b,{onMouseLeave:this._onMouseLeave,style:{background:"#333"},margin:{left:75,right:20,top:20,bottom:60}},b.a.createElement(Z.e,{tickValues:this.props.data.map(function(e,t){return t}),tickFormat:function(e){return e.toString()},style:{ticks:{fill:"white"},text:{stroke:"none",fill:"white",fontWeight:600,fontSize:"14px"}}}),b.a.createElement(Z.f,{style:{ticks:{fill:"white"},text:{stroke:"none",fill:"white",fontWeight:600,fontSize:"14px"}}}),b.a.createElement(Z.a,{text:"Number of Questions Answered",includeMargin:!1,xPercent:.2,yPercent:1.2,style:{style:{fill:"white",fontSize:"14px"}}}),b.a.createElement(Z.a,{text:"Number of Candidate Cars",includeMargin:!1,xPercent:-.13,yPercent:.3,style:{transform:"rotate(-90)",textAnchor:"end",style:{fill:"white",fontSize:"14px"}}}),b.a.createElement(Z.d,{color:"rgb(77, 182, 172)",onNearestX:this._onNearestX,data:this.props.data,animation:!0,style:{boxShadow:"2px 2px 4px rgba(0,0,0,0.5)",borderRadius:"5px 5px 0 0"}}),this.state.hintValue&&b.a.createElement(Z.c,{value:this.state.hintValue},b.a.createElement("div",{style:{background:"rgba(0, 0, 0, 0.8)",padding:"5px",borderRadius:"5px",color:"white"}}," ","Number of Questions Answered: ",this.state.hintValue.x,b.a.createElement("br",null),"Number of Candidate Tuples: ",this.state.hintValue.y)))),b.a.createElement("div",{style:{width:"30rem"}},b.a.createElement("h4",{style:{padding:"10px"}},"Figure: Candidate Tuples -- Questions"),b.a.createElement("p",{className:"text-t-align"},"\xa0\xa0\xa0\xa0This figure shows the number of Candidates Tuples with the number of Questions you answer. ",e?" During the interaction, according to your answers to questions, we can learn your preference on tuples. Then, unsuitable tuples are excluded from Candidates Tuples based on the learned preference. Thus, with more questions you answer, fewer Candidates Tuples left.":" ",b.a.createElement("button",{className:"toggleButton",onClick:this.toggleShowMore},e?b.a.createElement("span",{className:"foldText"},"\xa0fold"):b.a.createElement("span",{className:"foldText"},"...unfold")))))}}]),n}(b.a.Component),ne=Object(x.b)(function(e){var t=e.numLeftPoints.map(function(e,t){return{x:t,y:e}});return 1===t.length&&(t.push({x:.01,y:0}),t.push({x:-.01,y:0})),{data:t}})(te),re=n(43),ae=n(64);window.THREE=ae,n(150),n(151),n(152);var oe=ae;function ie(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(S.a)(e);if(t){var a=Object(S.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(N.a)(this,n)}}var le=100,ce=10,se=function(e){Object(O.a)(r,e);var t=ie(r);function r(){var e;Object(w.a)(this,r);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return(e=t.call.apply(t,[this].concat(i))).drawGeometry=function(){if(!(e.props.vertices.length<3)){var t=e.props.vertices;e.props.vertices.length<4&&(t=[].concat(Object(o.a)(t),[t[0]]));var n=t.map(function(e){var t=e.map(function(e){return e*le});return Object(re.a)(oe.Vector3,Object(o.a)(t))}),r=new oe.ConvexGeometry(n),a=new oe.MeshBasicMaterial({color:9553144,polygonOffset:!0,polygonOffsetFactor:1,polygonOffsetUnits:1,opacity:.5,transparent:!0});e.mesh=new oe.Mesh(r,a);var i=new oe.EdgesGeometry(r),l=new oe.LineBasicMaterial({color:9553144,linewidth:1}),c=new oe.LineSegments(i,l);e.mesh.add(c),e.scene.add(e.mesh)}},e.addAxes=function(){var t=new oe.AxesHelper(1.5*le);e.scene.add(t);var r=n(153),a=new oe.Font(r);[[16711680,[le+le/(2*ce),0,0],[Math.PI/2,Math.PI,0]],[65280,[0,le-le/(2*ce),0],[Math.PI/2,Math.PI/2,0]],[255,[le/(ce*Math.sqrt(2)),-le/(ce*Math.sqrt(2)),le],[Math.PI/2,3*Math.PI/4,0]]].forEach(function(t){var n,r,i=Object(Q.a)(t,3),l=i[0],c=i[1],s=i[2],u=a.generateShapes("1",le/ce),h=new oe.ShapeBufferGeometry(u),f=new oe.Mesh(h,new oe.MeshBasicMaterial({color:l,side:oe.DoubleSide}));(n=f.position).set.apply(n,Object(o.a)(c)),(r=f.rotation).set.apply(r,Object(o.a)(s)),e.scene.add(f)}),window.lines=[],[[16711680,[le,0,0],[0,0,0]],[65280,[0,le,0],[0,0,-Math.PI/2]],[255,[0,0,le],[0,0,-Math.PI/2]]].forEach(function(t){var n,r,a=Object(Q.a)(t,3),i=a[0],l=a[1],c=a[2],s=new oe.LineBasicMaterial({color:i}),u=new oe.Geometry;u.vertices.push(new oe.Vector3(0,0,0),new oe.Vector3(0,le/(2*ce)));var h=new oe.Line(u,s);(n=h.position).set.apply(n,Object(o.a)(l)),(r=h.rotation).set.apply(r,Object(o.a)(c)),e.scene.add(h),window.lines.push(h)})},e.start=function(){e.frameId||(e.frameId=window.requestAnimationFrame(e.animate))},e.stop=function(){window.cancelAnimationFrame(e.frameId)},e.animate=function(){e.controls.update(),e.renderer.render(e.scene,e.camera),e.frameId=window.requestAnimationFrame(e.animate)},e}return Object(k.a)(r,[{key:"componentDidMount",value:function(){var e=this.mount.clientWidth,t=this.mount.clientHeight;this.scene=new oe.Scene,this.camera=new oe.PerspectiveCamera(75,e/t,.1,1e3),this.camera.position.set(1.5*le,1.5*le,.5*le),this.camera.up.set(0,0,1),this.controls=new oe.OrbitControls(this.camera,this.mount),this.controls.update(),this.renderer=new oe.WebGLRenderer({antialias:!0}),this.renderer.setClearColor(16777215),this.renderer.setSize(e,t),this.mount.appendChild(this.renderer.domElement),this.addAxes(),this.drawGeometry(),this.start()}},{key:"componentDidUpdate",value:function(e){this.props.vertices!==e.vertices&&(this.mesh&&(this.scene.remove(this.mesh),this.mesh.geometry.dispose(),this.mesh.material.dispose()),this.drawGeometry())}},{key:"componentWillUnmount",value:function(){this.stop(),this.mount.removeChild(this.renderer.domElement)}},{key:"render",value:function(){var e=this;return b.a.createElement("div",{style:{width:"25rem",height:"25rem"},ref:function(t){e.mount=t}})}}]),r}(b.a.Component),ue=n(85),he=n.n(ue),fe=n(65),pe=n(66);function me(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(S.a)(e);if(t){var a=Object(S.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(N.a)(this,n)}}function de(e){var t=e.color;return b.a.createElement("div",{style:{width:"100%",height:"2rem",alignItems:"center",display:"flex"}},b.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:t}}))}function ge(e){var t=e.text;return b.a.createElement("div",{style:{height:"2rem",alignItems:"center",display:"flex",justifyContent:"center"}},t)}var ve=function(e){Object(O.a)(n,e);var t=me(n);function n(e){var r;Object(w.a)(this,n);var a=[{id:1,name:"Type"},{id:2,name:"Power"},{id:3,name:"Transmission"},{id:4,name:"Price (USD)"},{id:5,name:"Year"},{id:6,name:"Power (HP)"},{id:7,name:"Used KM"}];return"nba"===(r=t.call(this,e)).props.selectedDataset&&(a=[{id:1,name:"Position"},{id:2,name:"Style"},{id:3,name:"Division"},{id:4,name:"Score"},{id:5,name:"Foul"},{id:6,name:"Rebound"},{id:7,name:"Turnover"}]),r.attributes=[],a.slice(3).forEach(function(e){1===r.props.mask[e.name]&&r.attributes.push(e.name)}),console.log(r.attributes),r}return Object(k.a)(n,[{key:"render",value:function(){var e=this,t={dots:!1,infinite:!0,speed:500,slidesToShow:3,slidesToScroll:1,vertical:!0,verticalSwiping:!0,arrows:!1,swipeToSlide:!0,afterChange:this.props.changeStartingIndex};return b.a.createElement("div",{title:"Click the arrows to change the selected attributes for displaying the convex hull.",style:{width:"12rem"}},b.a.createElement("br",null),b.a.createElement("br",null),b.a.createElement("br",null),b.a.createElement("br",null),b.a.createElement("div",{style:{alignItems:"center",width:"4rem",display:"inline-block",verticalAlign:"middle"}},b.a.createElement(de,{color:"#ff0000"}),b.a.createElement(de,{color:"#00ff00"}),b.a.createElement(de,{color:"#0000ff"})),b.a.createElement("div",{style:{width:"8rem",display:"inline-block",verticalAlign:"middle"}},b.a.createElement("div",{onClick:function(){return e.slider.slickPrev()},style:{cursor:"pointer"}},b.a.createElement(fe.a,{icon:pe.b})),b.a.createElement(he.a,Object.assign({},t,{ref:function(t){return e.slider=t}}),this.attributes.map(function(e,t){return b.a.createElement(ge,{key:t,text:e})}),this.attributes.map(function(e,t){return b.a.createElement(ge,{key:t,text:e})})),b.a.createElement("div",{onClick:function(){return e.slider.slickNext()},style:{cursor:"pointer"}},b.a.createElement(fe.a,{icon:pe.a}))))}}]),n}(b.a.Component),ye=Object(x.b)(function(e){return{mask:e.mask,attributes:e.attributes,selectedDataset:e.selectedDataset}})(ve);function be(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(S.a)(e);if(t){var a=Object(S.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(N.a)(this,n)}}var Ee=function(e){Object(O.a)(n,e);var t=be(n);function n(e){var r;return Object(w.a)(this,n),(r=t.call(this,e)).updateContextHullVertices=function(e){var t=r.props.vertices.map(function(t){for(var n=[],r=0;r<3;++r)n.push(t[(r+e)%t.length]);return n});r.setState({convexHullVertices:t})},r.changeStartingIndex=function(e){r.setState({index:e}),r.updateContextHullVertices(e)},r.state={index:0,convexHullVertices:e.vertices.map(function(e){return e.slice(0,3)})},r}return Object(k.a)(n,[{key:"componentDidUpdate",value:function(e){this.props.vertices!==e.vertices&&this.updateContextHullVertices(this.state.index)}},{key:"render",value:function(){return b.a.createElement("div",{style:{width:"40rem"}},b.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"flex-start",width:"40rem"}},b.a.createElement(se,{vertices:this.state.convexHullVertices}),"\xa0\xa0\xa0\xa0",b.a.createElement(ye,{changeStartingIndex:this.changeStartingIndex})))}}]),n}(b.a.Component),xe=Object(x.b)(function(e){return{vertices:e.vertices}})(Ee);var we=n(26),ke=n.n(we);function Oe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(S.a)(e);if(t){var a=Object(S.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(N.a)(this,n)}}var Ne=function(e){Object(O.a)(n,e);var t=Oe(n);function n(e){var r;return Object(w.a)(this,n),(r=t.call(this,e)).toggleShowMorePrune=function(){r.setState(function(e){return{showMorePrune:!e.showMorePrune}})},r.toggleShowMoreLeft=function(){r.setState(function(e){return{showMoreLeft:!e.showMoreLeft}})},r.attributes=[],r.props.attributes.forEach(function(e){var t=Object(Q.a)(e,2),n=t[0];t[1];r.props.mask[n]&&r.attributes.push(n)}),r.state={showMorePrune:!1,showMoreLeft:!1},r}return Object(k.a)(n,[{key:"render",value:function(){var e=this,t=[b.a.createElement("th",{key:"Step No."},"Step")];this.attributes.forEach(function(e){t.push(b.a.createElement("th",{key:e},e))});var n=this.props.prunedPoints.map(function(t,n){var r=Object(Q.a)(t,2),a=r[0],i=r[1];return b.a.createElement("tr",{key:n,"data-toggle":"tooltip"},[i].concat(Object(o.a)(e.props.candidates[a])).map(function(e,t){return b.a.createElement("td",{key:t},e)}))});console.log(this.props.leftPoints);var r=this.props.leftPoints.map(function(t,n){return b.a.createElement("tr",{key:n,"data-toggle":"tooltip"},e.props.candidates[t].map(function(e,t){return b.a.createElement("td",{key:t},e)}))}),a=this.state,i=a.showMorePrune,l=a.showMoreLeft;return b.a.createElement("div",{className:"scrollable-container"},"\xa0\xa0\xa0\xa0",b.a.createElement("div",{className:"scrollable-item"},b.a.createElement("div",{style:{width:"40rem",height:"26rem",backgroundColor:"#F8F8F8"}},b.a.createElement("table",{className:ke()("table","table-hover",{"table-fixed":!0}),style:{minWidth:"40rem"}},b.a.createElement("thead",null,b.a.createElement("tr",null,t)),b.a.createElement("tbody",null,n))),b.a.createElement("div",null,b.a.createElement("h4",{style:{padding:"10px"}},"Table: The Tuples Pruned"),b.a.createElement("p",{className:"text-t-align",style:{width:"40rem"}},"\xa0\xa0\xa0\xa0This figure shows the tuples pruned. ",i?"According to your answers to questions, we learn your preference on tuples and prune the unsuitable tuples. Note that *step* represents the tuples are pruned when how many questions are answered. ":" ",b.a.createElement("button",{className:"toggleButton",onClick:this.toggleShowMorePrune},i?b.a.createElement("span",{className:"foldText"},"\xa0fold"):b.a.createElement("span",{className:"foldText"},"...unfold"))))),"\xa0\xa0",b.a.createElement("div",{className:"scrollable-item"},b.a.createElement("div",{style:{width:"40rem",height:"26rem",backgroundColor:"#F8F8F8"}},b.a.createElement("table",{className:ke()("table","table-hover",{"table-fixed":!0}),style:{minWidth:"40rem"}},b.a.createElement("thead",null,b.a.createElement("tr",null,t.slice(1))),b.a.createElement("tbody",null,r))),b.a.createElement("div",null,b.a.createElement("h4",{style:{padding:"10px"}},"Table: The Candidate Tuples"),b.a.createElement("p",{className:"text-t-align",style:{width:"40rem"}},"\xa0\xa0\xa0\xa0This figure shows the candidate tuples. ",l?"Based on your answers to questions, these are the candidate tuples that you might prefer. ":" ",b.a.createElement("button",{className:"toggleButton",onClick:this.toggleShowMoreLeft},l?b.a.createElement("span",{className:"foldText"},"\xa0fold"):b.a.createElement("span",{className:"foldText"},"...unfold"))))))}}]),n}(b.a.Component),Se=Object(x.b)(function(e){return{labels:e.labels,candidates:e.candidates,prunedPoints:e.prunedPoints,leftPoints:e.leftPoints,attributes:e.attributes,mask:e.mask}})(Ne);function je(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(S.a)(e);if(t){var a=Object(S.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(N.a)(this,n)}}var Te=function(e){Object(O.a)(n,e);var t=je(n);function n(e){var r;return Object(w.a)(this,n),(r=t.call(this,e)).handleStart=function(){r.props.start()},r.handleModeChange=function(e){r.props.changeMode(e.target.value)},r.inputs={},r.inputs.name=b.a.createRef(),r.inputs.email=b.a.createRef(),r}return Object(k.a)(n,[{key:"render",value:function(){return b.a.createElement("div",{className:"text-center m-auto",style:{maxWidth:"40rem"}},b.a.createElement("h1",null,"Phase Two: Evaluation"),b.a.createElement("br",null),b.a.createElement("br",null),b.a.createElement("h4",null,"You just ended phase one. We are now going to phase two Evaluation. We will present you some cars and ask you whether you are interested in them. ",b.a.createElement("br",null)),b.a.createElement("br",null),b.a.createElement("p",{className:"lead text-muted"},'Click the "Continue" button to continue. ',b.a.createElement("br",null)),b.a.createElement("div",null,b.a.createElement("button",{type:"button",className:"btn btn-primary",style:{width:"8rem"},onClick:this.handleStart},"Continue")))}}]),n}(b.a.Component),Re=Object(x.b)(function(e){return{attributes:e.attributes,mask:e.mask,points:e.points,mode:e.mode}},function(e){return{start:function(){e(c("Result"))},toggleMask:function(t,n){return e(h(t,n))},changeMode:function(t){return e(m(t))}}})(Te);var Pe=Object(x.b)(function(e){return{candidates:e.candidates,leftPoints:e.leftPoints,attributes:e.attributes,mask:e.mask,numLeftPoints:e.numLeftPoints}},function(e){return{restart:function(){e(c("Welcome")),e({type:"RESTART"})}}})(function(e){var t=e.candidates,n=e.leftPoints,r=e.attributes,a=e.mask,o=e.numLeftPoints,i=e.restart,l=[];r.forEach(function(e){var t=Object(Q.a)(e,2),n=t[0];if(t[1],a[n]){var r=b.a.createElement("th",{key:n},n);l.push(r)}});var c=n.map(function(e,n){return b.a.createElement("tr",{key:n,"data-toggle":"tooltip"},t[e].map(function(e,t){return b.a.createElement("td",{key:t},e)}))});return b.a.createElement("div",{className:"justify-content-center"},b.a.createElement("h4",null,"The Total No. of Questions Asked is: ",o.length-1,"."),b.a.createElement("h4",null,1===n.length?"Your Favourite Tuple is:":"".concat(n.length," Tuples Left in the Database:")),b.a.createElement("table",{className:ke()("table","table-hover",{"table-fixed":c.length>7}),style:{maxWidth:"40rem",margin:"auto"}},b.a.createElement("thead",null,b.a.createElement("tr",null,l)),b.a.createElement("tbody",null,c)),b.a.createElement("div",{className:"d-flex justify-content-center my-3"},b.a.createElement(ne,null)),b.a.createElement("div",null,b.a.createElement("button",{type:"button",className:"modern-btn",style:{width:"12rem"},onClick:i},"Return to Home")))}),Ce=(n(169),n(86)),Le=n.n(Ce);function Ae(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(S.a)(e);if(t){var a=Object(S.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(N.a)(this,n)}}function Me(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return _e(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _e(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}function _e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ie=[],De=5,Ge=0,Ve=[],Be=3,Fe=function e(t){var n=t.node,r=t.nodes,a=t.level,o=void 0===a?0:a,i=r.filter(function(e){return e.parentId===n.id});return b.a.createElement("li",null,b.a.createElement("a",{href:"#"},n.name),i.length>0&&b.a.createElement("ul",null,i.map(function(t){return b.a.createElement(e,{node:t,nodes:r,level:o+1})})))};function Ue(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(t.push(e),r===n&&e.children&&e.children.length>=2)return t;if(e.children){var a,i=Me(e.children);try{for(i.s();!(a=i.n()).done;){var l=Ue(a.value,Object(o.a)(t),n,r+1);if(l)return l}}catch(c){i.e(c)}finally{i.f()}}return null}function We(e){for(var t=null;Be>0&&!(t=Ue(e,[],Be));)Be--;if(!t){var n=[],r=e;for(n.push(r);r.children;)n.push(r.children[0]),r=r.children[0];return[n]}var a=Object(o.a)(t),i=t[t.length-1].children[0];for(a.push(i);i.children;)a.push(i.children[0]),i=i.children[0];var l=Object(o.a)(t);for(i=t[t.length-1].children[1],l.push(i);i.children;)l.push(i.children[0]),i=i.children[0];return[a,l]}var ze=function(e){Object(O.a)(n,e);var t=Ae(n);function n(e){var r;Object(w.a)(this,n),(r=t.call(this,e)).addCarToTree=function(e,t){if(1===t.length)return e.children||(e.children=[]),void e.children.push({name:t[0]});e.children||(e.children=[]);var n=e.children.find(function(e){return e.name===t[0]});n||(n={name:t[0]},e.children.push(n)),r.addCarToTree(n,t.slice(1))},r.generateCarTree=function(e){var t,n={name:"Root"},a=Me(e);try{for(a.s();!(t=a.n()).done;){var o=t.value;r.addCarToTree(n,o)}}catch(i){a.e(i)}finally{a.f()}return n},r.treeToNodesData=function(e){for(var t=[],n=[{node:e,parentId:null}],r=1;n.length>0;){var a=n.shift(),o=a.node,i=a.parentId;if(t.push({id:r,name:o.name,parentId:i}),o.children){var l,c=Me(o.children);try{for(c.s();!(l=c.n()).done;){var s=l.value;n.push({node:s,parentId:r})}}catch(u){c.e(u)}finally{c.f()}}r++}return t},r.removeChildWithName=function(e,t,n){if(!e.children||0===e.children.length)return e;for(var a=0,l=0;l<e.children.length;l++){var c=e.children[l];c.name!==t&&c.name!==n||a++}var s=Object(o.a)(e.children);return a>=2&&(s=s.filter(function(e){return e.name!==t})),Object(i.a)({},e,{children:s.map(function(e){return r.removeChildWithName(e,t,n)})})},r.choose=function(e){var t;Ge++,0===e?t=r.removeChildWithName(r.state.tree,r.state.pair[1][Be].name,r.state.pair[0][Be].name):1===e&&(t=r.removeChildWithName(r.state.tree,r.state.pair[0][Be].name,r.state.pair[1][Be].name));for(var n=r.treeToNodesData(t),a=We(t),i=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!t)return[];if(n.push(t.name),!t.children||0===t.children.length)return[n];var r,a=[],i=Me(t.children);try{for(i.s();!(r=i.n()).done;){var l=r.value;a=a.concat(e(l,Object(o.a)(n)))}}catch(c){i.e(c)}finally{i.f()}return a}(t),l=[],c=0;c<i.length;++c)l.push(i[c].slice(1,i[c].length-1));console.log(l);for(var s=[],u=function(){var e=f[h].join(","),t=r.props.candidates.findIndex(function(t){return t.join(",")===e});-1!==t&&s.push(t)},h=0,f=l;h<f.length;h++)u();console.log(Ve),console.log(s);var p=Ve.filter(function(e){return!s.includes(e)});console.log(p),Ve=s,r.props.prunePoints(p,Ge),a.length<2&&r.props.showResult(),r.setState({tree:t,nodesData:n,pair:a},function(){console.log(r.state.tree),console.log(r.state.nodesData),console.log(r.state.pair)})},r.startAgain=function(){r.props.restartedAgain(),console.log(r.props.candidates)},console.log(r.props.mask),Ge=0,Be=3,Ve=[],De=r.props.candidates[0].length,Ie=[{id:1,name:"Root",parentId:null},{id:2,name:"Type",parentId:1},{id:3,name:"Power",parentId:2},{id:4,name:"Transmission",parentId:3},{id:5,name:"Car",parentId:4}],"nba"===r.props.selectedDataset&&(Ie=[{id:1,name:"Root",parentId:null},{id:2,name:"Position",parentId:1},{id:3,name:"Style",parentId:2},{id:4,name:"Division",parentId:3},{id:5,name:"Car",parentId:4}]);for(var a=[],l=0;l<r.props.candidates.length;++l){for(var c=[],s=0;s<r.props.candidates[l].length;++s)c.push(r.props.candidates[l][s]);c.push("TupleID: "+(l+1)),a.push(c)}for(var u=[],h=0;h<r.props.candidates.length;++h)u.push(h),Ve.push(h);r.props.setLeftPoints(u),Ie=(Ie=Ie.filter(function(e,t){return 0===t||t===Ie.length-1||1===r.props.mask[e.name]})).map(function(e,t){return Object(i.a)({},e,{id:t+1,parentId:0===t?e.parentId:t})});var f=r.generateCarTree(a),p=r.treeToNodesData(f),m=We(f);return r.state={cars:a,tree:f,nodesData:p,pair:m},r}return Object(k.a)(n,[{key:"componentDidMount",value:function(){var e=document.querySelector(".scrollable-container");e.scrollLeft=(e.scrollWidth-e.clientWidth)/2}},{key:"render",value:function(){var e=this,t=null,n=null;console.log(Ie),this.state.pair.length>1?(t=[b.a.createElement("th",{key:"Option No."},"Option")],Ie.slice(0,De+1).slice(1).forEach(function(e){t.push(b.a.createElement("th",{key:e.id},e.name))}),t.push(b.a.createElement("th",{key:"chooseButton"})),n=this.state.pair.map(function(t,n){var r=[b.a.createElement("td",{key:"Option No."},n+1)];return t.slice(0,De+1).slice(1).forEach(function(e,t){r.push(b.a.createElement("td",{key:t},e.name))}),r.push(b.a.createElement("td",{key:"chooseButton"},b.a.createElement("button",{type:"button",className:"choose-btn",style:{width:"6rem",height:"1.5rem"},onClick:function(){return e.choose(n)}},"Choose"))),b.a.createElement("tr",{key:n,"data-toggle":"tooltip"},r)})):(t=[b.a.createElement("th",{key:"Option No."})],Ie.slice(0,De+1).slice(1).forEach(function(e){t.push(b.a.createElement("th",{key:e.id},e.name))}),n=this.state.pair.map(function(e,t){var n=[b.a.createElement("td",{key:"Option No."},e[De+1].name)];return e.slice(0,De+1).slice(1).forEach(function(e,t){n.push(b.a.createElement("td",{key:t},e.name))}),b.a.createElement("tr",{key:t,"data-toggle":"tooltip"},n)}));var r=this.state.nodesData.find(function(e){return null===e.parentId}),a=Ie.find(function(e){return null===e.parentId});return this.state.pair.length>1?b.a.createElement("div",{className:"text-center m-auto",style:{}},b.a.createElement("img",{alt:"",src:Le.a,style:{width:"100%"}}),b.a.createElement("p",{style:{background:"gainsboro",borderRadius:"5px",padding:"10px",fontSize:"16px",textAlign:"left"}},b.a.createElement("span",{style:{fontSize:"20px"}},b.a.createElement("strong",null,"Instruction:"))," You will be asked with multiple questions so that we can learn your preference on tuples, and then, find your favorite one. There are three parts in the following.",b.a.createElement("br",null),"\xa0\xa0\xa0\xa0\xa0\xa0",b.a.createElement("em",null,"Part 1:")," It interacts with you by asking questions.",b.a.createElement("br",null),"\xa0\xa0\xa0\xa0\xa0\xa0",b.a.createElement("em",null,"Part 2:")," It shows the middle results of algorithm SP-Tree.",b.a.createElement("br",null),"\xa0\xa0\xa0\xa0\xa0\xa0",b.a.createElement("em",null,"Part 3:")," It shows the statistic of the performance of algorithm SP-Tree."),b.a.createElement("br",null),b.a.createElement("h4",{style:{background:"linear-gradient(to right, #89bfe9, #5271a6)",borderRadius:"5px",textAlign:"left",padding:"5px",boxShadow:"3px 3px 5px rgba(0, 0, 0, 0.5)"}},b.a.createElement("strong",null,b.a.createElement("em",null,"\xa0PART 1:"))," Interaction"),b.a.createElement("p",{style:{background:"gainsboro",borderRadius:"5px",padding:"5px",fontSize:"16px",textAlign:"left"}},b.a.createElement("strong",null,"\xa0NOTE: "),"Choose the Tuple you favor more between the following options"),b.a.createElement("div",{className:"row justify-content-center align-items-center"},b.a.createElement("div",{className:"col-md-8"},b.a.createElement("table",{className:"table table-hover text-center"},b.a.createElement("thead",null,b.a.createElement("tr",null,t)),b.a.createElement("tbody",null,n)))),b.a.createElement("br",null),b.a.createElement("h4",{style:{background:"linear-gradient(to right, #89bfe9, #5271a6)",borderRadius:"5px",textAlign:"left",padding:"5px",boxShadow:"3px 3px 5px rgba(0, 0, 0, 0.5)"}},b.a.createElement("strong",null,b.a.createElement("em",null,"\xa0PART 2:"))," Visuals"),b.a.createElement("p",{style:{background:"gainsboro",borderRadius:"5px",padding:"10px",fontSize:"16px",textAlign:"left"}},b.a.createElement("strong",null,"NOTE: "),"Here shows the C-Tree. Each leaf contains a tuple and each internal node contains a categorical value. For each leaf, the shortest path from the root to it contains all the categorical values of the tuple in it."),b.a.createElement("div",{class:"trees-container"},b.a.createElement("div",{class:"tree1"},b.a.createElement("div",{className:"tree"},b.a.createElement("ul",null,b.a.createElement(Fe,{node:a,nodes:Ie})))),"\xa0\xa0\xa0\xa0",b.a.createElement("div",{class:"tree2"},b.a.createElement("div",{className:"tree"},b.a.createElement("ul",null,b.a.createElement(Fe,{node:r,nodes:this.state.nodesData}))))),b.a.createElement("div",{className:"trees-container"},b.a.createElement("div",{className:"tree21"},b.a.createElement("h4",{style:{width:"8.75rem",padding:"10px"}},"Attributes")),"\xa0\xa0\xa0\xa0",b.a.createElement("div",{className:"tree22"},b.a.createElement("h4",{style:{width:"100%",padding:"10px"}},"The C-Tree"))),b.a.createElement("br",null),b.a.createElement("h4",{style:{background:"linear-gradient(to right, #89bfe9, #5271a6)",borderRadius:"5px",textAlign:"left",padding:"5px",boxShadow:"3px 3px 5px rgba(0, 0, 0, 0.5)"}},b.a.createElement("strong",null,b.a.createElement("em",null,"\xa0PART 3:"))," Statistics"),b.a.createElement("p",{style:{background:"gainsboro",borderRadius:"5px",padding:"10px",fontSize:"16px",textAlign:"left"}},b.a.createElement("strong",null,"NOTE: "),"Here shows one figure and two tables that demonstrate the Candidate Tuples and the Tuples pruned during the interaction process."),b.a.createElement("div",{className:"scrollable-container"},"\xa0\xa0\xa0\xa0",b.a.createElement("div",{className:"row justify-content-center"},b.a.createElement(ne,null)),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",b.a.createElement("div",{className:"row justify-content-center"},b.a.createElement(Se,null))),b.a.createElement("br",null),b.a.createElement("div",null,b.a.createElement("button",{type:"button",className:"modern-btn",style:{width:"12rem"},onClick:this.startAgain},"Return to Home")),b.a.createElement("br",null)):b.a.createElement("div",{className:"text-center m-auto",style:{}},b.a.createElement("h1",null,"Algorithm: SP-Tree"),b.a.createElement("br",null),b.a.createElement("br",null),b.a.createElement("h4",null,"Based on your selection, the following is our recommendation."),b.a.createElement("div",{className:"row justify-content-center align-items-center"},b.a.createElement("div",{className:"col-md-8"},b.a.createElement("table",{className:"table table-hover text-center"},b.a.createElement("thead",null,b.a.createElement("tr",null,t)),b.a.createElement("tbody",null,n)))),b.a.createElement("div",{class:"trees-container"},b.a.createElement("div",{class:"tree1"},b.a.createElement("div",{className:"tree"},b.a.createElement("ul",null,b.a.createElement(Fe,{node:a,nodes:Ie})))),b.a.createElement("div",{class:"tree1"},b.a.createElement("div",{className:"tree"},b.a.createElement("ul",null,b.a.createElement(Fe,{node:r,nodes:this.state.nodesData}))))))}}]),n}(b.a.Component),Ye=Object(x.b)(function(e){var t=e.candidates;return{attributes:e.attributes,mask:e.mask,points:e.points,candidates:t,numLeftPoints:e.numLeftPoints,leftPoints:e.leftPoints,selectedDataset:e.selectedDataset}},function(e){return{showResult:function(){e(c("Result"))},setLeftPoints:function(t){e(p(t))},restartedAgain:function(){e(c("Welcome")),e({type:"RESTART"}),console.log("start")},prunePoints:function(t,n){e(f(t,n))}}})(ze),He=n(46),qe=n(91);n(175);function Qe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(S.a)(e);if(t){var a=Object(S.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(N.a)(this,n)}}var Ke=function(e){Object(O.a)(n,e);var t=Qe(n);function n(e){var r;return Object(w.a)(this,n),(r=t.call(this,e)).toggleShowMore=function(){r.setState(function(e){return{showMore:!e.showMore}})},r._onMouseLeave=function(){r.setState({hintValue:null})},r._onNearestX=function(e,t){var n=t.index;r.setState({hintValue:r.props.data[n]})},r.state={hintValue:null,showMore:!1},r}return Object(k.a)(n,[{key:"render",value:function(){var e=this.state.showMore;return b.a.createElement("div",null,b.a.createElement("div",{style:{width:"30rem",height:"26rem"}},b.a.createElement(Z.b,{onMouseLeave:this._onMouseLeave,style:{background:"#333"},margin:{left:75,right:20,top:20,bottom:60}},b.a.createElement(Z.e,{tickValues:this.props.data.map(function(e,t){return t}),tickFormat:function(e){return e.toString()},style:{ticks:{fill:"white"},text:{stroke:"none",fill:"white",fontWeight:600,fontSize:"14px"}}}),b.a.createElement(Z.f,{style:{ticks:{fill:"white"},text:{stroke:"none",fill:"white",fontWeight:600,fontSize:"14px"}}}),b.a.createElement(Z.a,{text:"Number of Questions Answered",includeMargin:!1,xPercent:.2,yPercent:1.2,style:{style:{fill:"white",fontSize:"14px"}}}),b.a.createElement(Z.a,{text:"Diameter of Numerical Utility Range",includeMargin:!1,xPercent:-.13,yPercent:.3,style:{transform:"rotate(-90)",textAnchor:"end",style:{fill:"white",fontSize:"14px"}}}),b.a.createElement(Z.d,{color:"rgb(77, 182, 172)",onNearestX:this._onNearestX,data:this.props.data,animation:!0,style:{boxShadow:"2px 2px 4px rgba(0,0,0,0.5)",borderRadius:"5px 5px 0 0"}}),this.state.hintValue&&b.a.createElement(Z.c,{value:this.state.hintValue},b.a.createElement("div",{style:{background:"rgba(0, 0, 0, 0.8)",padding:"5px",borderRadius:"5px",color:"white"}}," ","Number of Questions Answered: ",this.state.hintValue.x,b.a.createElement("br",null),"Diameter of Numerical Utility Range: ",this.state.hintValue.y)))),b.a.createElement("div",{style:{width:"30rem"}},b.a.createElement("h4",{style:{padding:"10px"}},"Figure: Diameter -- Questions"),b.a.createElement("div",null,b.a.createElement("p",{className:"text-t-align"},"\xa0\xa0\xa0\xa0This figure shows the Diameter of numerical utility range with the number of Questions you answer.",e?" As you answer questions, we can learn the importance of each numerical attributes of tuples to you. Since the numerical utility range approximates the ranges of those importance, the more questions you answer, the more precise approximation reaches, leading to a smaller numerical utility range and a reduced Diameter.":" ",b.a.createElement("button",{className:"toggleButton",onClick:this.toggleShowMore},e?b.a.createElement("span",{className:"foldText"},"\xa0fold"):b.a.createElement("span",{className:"foldText"},"...unfold"))))))}}]),n}(b.a.Component),Xe=Object(x.b)(function(e){var t=e.radius.map(function(e,t){return{x:t,y:e}});return console.log("mappedData"+t),1===t.length&&(t.push({x:.01,y:0}),t.push({x:-.01,y:0})),{data:t}})(Ke),Je=n(88),$e=n.n(Je);function Ze(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(S.a)(e);if(t){var a=Object(S.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(N.a)(this,n)}}var et=3,tt=4,nt=[],rt=0,at=[],ot=function(e){Object(O.a)(n,e);var t=Ze(n);function n(e){var r;Object(w.a)(this,n),(r=t.call(this,e)).toggleShowMoreGraph=function(){r.setState(function(e){return{showMoreGraph:!e.showMoreGraph}})},r.toggleShowMoreRange=function(){r.setState(function(e){return{showMoreRange:!e.showMoreRange}})},r.startAgain=function(){r.socket.disconnect(),r.props.restartedAgain()},r.choose=function(e){rt++,r.socket.emit("send_integer",{integer:e})},r.generateRandomNumbers=function(e){for(var t=[0],n=0;n<e-1;n++)t.push(Math.random());t.push(1),t.sort(function(e,t){return e-t});for(var r=[],a=1;a<t.length;a++)r.push(t[a]-t[a-1]);return r},r.setUtilityVec=function(e){for(var t=r.generateRandomNumbers(e.length),n=[],a=0,o=0;o<tt-1;++o){for(var i=0,l=0;l<e.length;++l)i+=t[l]*e[l][o];a+=i,n.push(i)}n.push(1-a),r.setState({numUtilityVec:n})},r.regenerateUtilityVec=function(){r.setUtilityVec(r.state.extVec),r.drawGraph()},r.ref=b.a.createRef(),et=Object.values(r.props.mask).slice(0,3).filter(function(e){return 1===e}).length,tt=Object.values(r.props.mask).slice(3).filter(function(e){return 1===e}).length,rt=0,at=[],nt=[{id:1,name:"Type"},{id:2,name:"Power"},{id:3,name:"Transmission"},{id:4,name:"Price (USD)"},{id:5,name:"Year"},{id:6,name:"Power (HP)"},{id:7,name:"Used KM"}],"nba"===r.props.selectedDataset&&(nt=[{id:1,name:"Position"},{id:2,name:"Style"},{id:3,name:"Division"},{id:4,name:"Score"},{id:5,name:"Foul"},{id:6,name:"Rebound"},{id:7,name:"Turnover"}]),nt=nt.filter(function(e,t){return 1===r.props.mask[e.name]});for(var a=[],o=0;o<r.props.candidates.length;++o)a.push(o),at.push(o);return r.props.setLeftPoints(a),r.props.setRadius([1.414213]),r.state={pair:[],nodeVec:[],upper:[],lower:[],relationVec:[],extVec:[],numUtilityVec:[],showMoreGraph:!1,showMoreRange:!1},r.socket=qe.a.connect("http://39.108.168.228:5000"),r.socket.on("initialized",function(e){r.setState({pair:[e.pair1,e.pair2],nodeVec:e.node_vectors,upper:e.node_upperBound,lower:e.node_lowerBound,relationVec:e.relation_vectors,extVec:e.ext_vectors}),r.props.updateConvexHull(r.state.extVec),r.setUtilityVec(r.state.extVec),r.drawGraph()}),r.socket.on("send_integer",function(e){r.setState({pair:[e.pair1,e.pair2],nodeVec:e.node_vectors,upper:e.node_upperBound,lower:e.node_lowerBound,relationVec:e.relation_vectors,extVec:e.ext_vectors}),r.props.updateConvexHull(r.state.extVec),console.log(r.state.extVec);var t=r.props.radius;t.push(r.findMaxDistance(r.state.extVec).toFixed(6)),r.props.setRadius(t),console.log(r.props.radius),r.setUtilityVec(r.state.extVec);var n=e.leftpoints,a=at.filter(function(e){return!n.includes(e)});at=n,r.props.prunePoints(a,rt),e.pair1===e.pair2?(r.socket.disconnect(),r.props.showResult()):r.drawGraph()}),r.initialize(),r}return Object(k.a)(n,[{key:"calculateDistance",value:function(e,t){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2))}},{key:"findMaxDistance",value:function(e){for(var t=0,n=0;n<e.length;n++)for(var r=n+1;r<e.length;r++){var a=this.calculateDistance(e[n],e[r]);t=Math.max(t,a)}return t}},{key:"initialize",value:function(){var e=this,t=[];this.props.attributes.slice(3).map(function(n){var r=Object(Q.a)(n,2),a=r[0],o=r[1];e.props.mask[a]&&t.push(o.smallerBetter?1:0)}),console.log(t);var n=function(e,t){var n=function(e){var t=[],n=[];if(0===e.length)return[n,t];for(var r=0;r<e[0].length;r++){for(var a=e[0][r],o=e[0][r],i=1;i<e.length;i++)e[i][r]>a&&(a=e[i][r]),e[i][r]<o&&(o=e[i][r]);t.push(a),n.push(o)}return[n,t]}(e);console.log(n);for(var r=[],a=0;a<e.length;++a){for(var o=[],i=0;i<e[0].length-t.length;++i)o.push(e[a][i]);for(var l=e[0].length-t.length;l<e[0].length;++l)t?o.push(1-(e[a][l]-n[0][l])/(n[1][l]-n[0][l])):o.push((e[a][l]-n[0][l])/(n[1][l]-n[0][l]));r.push(o)}return r}(this.props.candidates,t);console.log(n),this.socket.emit("initialize",{array:n,int1:this.props.candidates.length,int2:et,int3:tt})}},{key:"drawGraph",value:function(){var e=this,t=He.a(this.ref.current);t.selectAll("*").remove(),console.log(this.state.relationVec);var n=this.state.nodeVec.length,r={x:300,y:270};console.log(this.state.upper),console.log(this.state.lower);for(var a=[],o=[],i=0;i<this.state.upper.length;++i){for(var l=999999,c=0;c<this.state.upper[i].length;++c){for(var s=0,u=0;u<this.state.numUtilityVec.length;++u)s+=this.state.numUtilityVec[u]*this.state.upper[i][c][u];s<l&&(l=s.toFixed(6))}a.push(l)}for(var h=0;h<this.state.lower.length;++h){for(var f=-999999,p=0;p<this.state.lower[h].length;++p){for(var m=0,d=0;d<this.state.numUtilityVec.length;++d)m+=this.state.numUtilityVec[d]*this.state.lower[h][p][d];m>f&&(f=m.toFixed(6))}o.push(f)}t.append("text").attr("x",950).attr("y",150).attr("text-anchor","end").style("font-size","15px").text("Put your mouse on the node to see its information.");t.append("rect").attr("x",645).attr("y",r.y-90+10).attr("width",270).attr("height",180).attr("fill","#FEFFFE").attr("stroke","#ccc").attr("stroke-width",2),t.append("text").attr("x",780).attr("y",r.y-45).attr("text-anchor","middle").style("font-size","20px").text("Node Information");var g=Array.from({length:n}).map(function(t,i){var l,c,s=2*Math.PI/n*i,u=function(e,t,n){return{x:e.x+n*Math.cos(t),y:e.y+n*Math.sin(t)}}(r,s,250),h=e.state.nodeVec[i].slice(0,e.state.nodeVec[i].length/2).join(", "),f=e.state.nodeVec[i].slice(e.state.nodeVec[i].length/2).join(", ");return l=999999===a[i]?"unknown":a[i],c=-999999===o[i]?"unknown":o[i],{x:u.x-15,y:u.y-15,label1:h,label2:f,up:l,lw:c}}),v=function(e,t,n,r){return{x1:e.x+n/2,y1:e.y+r/2,x2:t.x+n/2,y2:t.y+r/2}};this.state.relationVec.forEach(function(e){var n=v(g[e[0]],g[e[1]],30,30);t.append("line").attr("x1",n.x1).attr("y1",n.y1).attr("x2",n.x2).attr("y2",n.y2).attr("stroke","#ccc").attr("stroke-width",1)});var y=function(e,n){if(n){var r=t.append("text").attr("class","tempLabel").attr("x",660).attr("y",110).attr("text-anchor","left").style("font-size","15px");r.append("tspan").text("CV1 = {"+e.label2+"}").attr("x",660).attr("dy","10em"),r.append("tspan").text("CV2 = {"+e.label1+"}").attr("x",660).attr("dy","1.2em"),r.append("tspan").text("S1: Score("+e.label2+")").attr("x",660).attr("dy","1.2em"),r.append("tspan").text("S2: Score("+e.label1+")").attr("x",660).attr("dy","1.2em"),r.append("tspan").text("Upper Bound of S1 - S2: "+e.up).attr("x",660).attr("dy","1.2em"),r.append("tspan").text("Lower Bound of S1 - S2: "+e.lw).attr("x",660).attr("dy","1.2em")}else t.selectAll(".tempLabel, .tempLabelBg").remove()},b=this.state.relationVec,E=[];g.forEach(function(e,n){var r=t.append("rect").attr("x",e.x).attr("y",e.y).attr("width",30).attr("height",30).attr("data-id",n).attr("fill","#FEFFFE").attr("stroke","#ccc").attr("stroke-width",2).on("mouseover",function(){He.a(this).attr("fill","#C8D0F8"),y(e,!0),b.filter(function(e){return e.includes(n)}).flat().filter(function(e){return e!==n}).forEach(function(e){E[e].attr("fill","#c8e4f8")}),b.forEach(function(e){if(e.includes(n)){var r=v(g[e[0]],g[e[1]],30,30);t.select('line[x1="'.concat(r.x1,'"][y1="').concat(r.y1,'"][x2="').concat(r.x2,'"][y2="').concat(r.y2,'"]')).attr("stroke","#94a0b4").attr("stroke-width",1.5)}})}).on("mouseout",function(){He.a(this).attr("fill","#FEFFFE"),y(e,!1),b.filter(function(e){return e.includes(n)}).flat().filter(function(e){return e!==n}).forEach(function(e){E[e].attr("fill","#FEFFFE")}),b.forEach(function(e){if(e.includes(n)){var r=v(g[e[0]],g[e[1]],30,30);t.select('line[x1="'.concat(r.x1,'"][y1="').concat(r.y1,'"][x2="').concat(r.x2,'"][y2="').concat(r.y2,'"]')).attr("stroke","#ccc").attr("stroke-width",1)}})});E.push(r)});t.node().getBBox();t.attr("viewBox","0 0 1000 560")}},{key:"componentDidMount",value:function(){var e=document.querySelector(".scrollable-container");e.scrollLeft=(e.scrollWidth-e.clientWidth)/2}},{key:"render",value:function(){var e,t=this,n=null;n=[b.a.createElement("th",{key:"Option No."},"Option")],nt.forEach(function(e){n.push(b.a.createElement("th",{key:e.id},e.name))}),n.push(b.a.createElement("th",{key:"chooseButton"})),e=this.state.pair.map(function(e,n){var r=[b.a.createElement("td",{key:"Option No."},n+1)];return t.props.candidates[e].forEach(function(e,t){r.push(b.a.createElement("td",{key:t},e))}),r.push(b.a.createElement("td",{key:"chooseButton"},b.a.createElement("button",{type:"button",className:"choose-btn",style:{width:"6rem",height:"1.5rem"},onClick:function(){return t.choose(n)}},"Choose"))),b.a.createElement("tr",{key:n,"data-toggle":"tooltip"},r)});var r=[];if(this.state.numUtilityVec.length>0){var a=this.state.numUtilityVec;console.log(a),nt.slice(et).map(function(e,t){var n=a[t].toFixed(2);r.push(b.a.createElement("tr",null,b.a.createElement("th",{key:e.id},e.name),b.a.createElement("th",{key:e.id},n)))})}var o=this.state,i=o.showMoreGraph,l=o.showMoreRange;return b.a.createElement("div",{className:"text-center m-auto",style:{}},b.a.createElement("img",{alt:"",src:$e.a,style:{width:"100%"}}),b.a.createElement("p",{style:{background:"gainsboro",borderRadius:"5px",padding:"10px",fontSize:"16px",textAlign:"left"}},b.a.createElement("span",{style:{fontSize:"20px"}},b.a.createElement("strong",null,"Instruction:"))," You will be asked with multiple questions so that we can learn your preference on tuples, and then, find your favorite one. There are three parts in the following.",b.a.createElement("br",null),"\xa0\xa0\xa0\xa0\xa0\xa0",b.a.createElement("em",null,"Part 1:")," It interacts with you by asking questions.",b.a.createElement("br",null),"\xa0\xa0\xa0\xa0\xa0\xa0",b.a.createElement("em",null,"Part 2:")," It shows the middle results of algorithm GE-Graph.",b.a.createElement("br",null),"\xa0\xa0\xa0\xa0\xa0\xa0",b.a.createElement("em",null,"Part 3:")," It shows the statistic of the performance of algorithm GE-Graph."),b.a.createElement("br",null),b.a.createElement("h4",{style:{background:"linear-gradient(to right, #89bfe9, #5271a6)",borderRadius:"5px",textAlign:"left",padding:"5px",boxShadow:"3px 3px 5px rgba(0, 0, 0, 0.5)"}},b.a.createElement("strong",null,b.a.createElement("em",null,"\xa0PART 1:"))," Interaction"),b.a.createElement("p",{style:{background:"gainsboro",borderRadius:"5px",padding:"5px",fontSize:"16px",textAlign:"left"}},b.a.createElement("strong",null,"\xa0NOTE: "),"Choose the Tuple you favor more between the following options"),b.a.createElement("div",{className:"row justify-content-center align-items-center"},b.a.createElement("div",{className:"col-md-8"},b.a.createElement("table",{className:"table table-hover text-center"},b.a.createElement("thead",null,b.a.createElement("tr",null,n)),b.a.createElement("tbody",null,e)))),b.a.createElement("h4",{style:{background:"linear-gradient(to right, #89bfe9, #5271a6)",borderRadius:"5px",textAlign:"left",padding:"5px",boxShadow:"3px 3px 5px rgba(0, 0, 0, 0.5)"}},b.a.createElement("strong",null,b.a.createElement("em",null,"\xa0PART 2:"))," Visuals"),b.a.createElement("p",{style:{background:"gainsboro",borderRadius:"5px",padding:"10px",fontSize:"16px",textAlign:"left"}},b.a.createElement("strong",null,"NOTE: "),"Here shows the relational graph and the numerical utility range. The relational graph stores the information of your preference on the categorical attributes. The numerical utility range stores the information of your preference on the numerical attributes."),b.a.createElement("div",{className:"justify-content-center"},b.a.createElement("div",{style:{width:"100%",height:"500px",overflow:"auto",background:"#F6F6F6"}},b.a.createElement("svg",{ref:this.ref})),b.a.createElement("div",null,b.a.createElement("h4",{style:{padding:"10px"}},"Relational Graph"),b.a.createElement("p",{className:"preserve-newlines"},"Each node in the relational graph stores your preference on some categorical values. ",i?"The following shows a node information template. \nSuppose that Tuple 1 has value 'C1' on attribute A and value 'D1' on attribute B. \nSuppose that Tuple 2 has value 'C2' on attribute A and value 'D2' on attribute B. \nWe define: \nCV1 = {C1, D1}. \nCV2 = {C2, D2}. \nS1 = the score of value 'C1' on attribute A + the score of value 'D1' on attribute B, i.e., Score(CV1). \nS2 = the score of value 'C2' on attribute A + the score of value 'D2' on attribute B, i.e., Score(CV2). \n\nS1 - S2 indicates to what extend you prefer CV1 to CV2. \nIf S1 - S2 is positive, you prefer CV1 to CV2 (a larger value means larger extend). \nIf S1 - S2 is negative, you prefer CV1 to CV2 (a smaller value means smaller extend).":" ",b.a.createElement("button",{className:"toggleButton",onClick:this.toggleShowMoreGraph},i?b.a.createElement("span",{className:"foldText"},"\xa0fold"):b.a.createElement("span",{className:"foldText"},"...unfold"))))),b.a.createElement("div",{className:"scrollable2-container"},"\xa0\xa0\xa0\xa0",b.a.createElement("div",{className:"row justify-content-center",style:{width:"40rem"}},b.a.createElement(xe,null),b.a.createElement("div",null,b.a.createElement("h4",{style:{padding:"10px"}},"Numerical Utility Range"),b.a.createElement("p",{className:"text-t-align"},"\xa0\xa0\xa0\xa0 The numerical utility range is the possible domain of your utility vector. ",l?"The weights in the utility vector indicate the importance of numerical attributes to you.":" ",b.a.createElement("button",{className:"toggleButton",onClick:this.toggleShowMoreRange},l?b.a.createElement("span",{className:"foldText"},"\xa0fold"):b.a.createElement("span",{className:"foldText"},"...unfold"))))),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0 \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",b.a.createElement("div",{className:"row justify-content-center"},b.a.createElement("div",{style:{width:"22rem"}},b.a.createElement("div",null,b.a.createElement("h4",null,b.a.createElement("strong",null,"Numerical Utility Vector"))),b.a.createElement("div",null,b.a.createElement("h4",{style:{fontFamily:"'Arial', sans-serif",color:"#0cc0df",backgroundColor:"#f5f5f5",padding:"10px",border:"2px solid #0cc0df",borderRadius:"5px",display:"inline-block",boxShadow:"3px 3px 5px rgba(0, 0, 0, 0.2)"}},"(",this.state.numUtilityVec.map(function(e){return e.toFixed(2)}).join(", "),")")),b.a.createElement("table",{className:"table table-hover text-center"},b.a.createElement("tbody",null,r)),b.a.createElement("div",null,b.a.createElement("button",{type:"button",className:"modern-btn",style:{height:"3rem",width:"12rem"},onClick:this.regenerateUtilityVec},"Randomly Generate")),b.a.createElement("p",{className:"text-t-align",style:{padding:"10px",fontSize:"16px",textAlign:"left",width:"22rem"}},"Click the button to randomly generate another utility vector in the numerical utility range. The bounds in the relational graph will be updated based on the generated utility vector.")))),b.a.createElement("br",null),b.a.createElement("h4",{style:{background:"linear-gradient(to right, #89bfe9, #5271a6)",borderRadius:"5px",textAlign:"left",padding:"5px",boxShadow:"3px 3px 5px rgba(0, 0, 0, 0.5)"}},b.a.createElement("strong",null,b.a.createElement("em",null,"\xa0PART 3:"))," Statistics"),b.a.createElement("p",{style:{background:"gainsboro",borderRadius:"5px",padding:"10px",fontSize:"16px",textAlign:"left"}},b.a.createElement("strong",null,"NOTE: "),"Here shows two figures and two tables that demonstrate the Diameter of the numerical utility range, the Candidate Tuple, and the Tuples pruned during the interaction process."),b.a.createElement("br",null),b.a.createElement("div",null,b.a.createElement("div",{className:"row justify-content-center"},b.a.createElement("div",{className:"col-md-auto"},b.a.createElement(Xe,null)),b.a.createElement("div",{className:"col-md-auto"},b.a.createElement(ne,null)))),b.a.createElement("br",null),b.a.createElement("p",{style:{background:"gainsboro",borderRadius:"5px",padding:"10px",fontSize:"16px",textAlign:"left"}},"\xa0"),b.a.createElement("br",null),b.a.createElement("div",{className:"scrollable-container"},b.a.createElement("div",null,b.a.createElement("div",{className:"row justify-content-center"},b.a.createElement("div",null,b.a.createElement(Se,null))))),b.a.createElement("br",null),b.a.createElement("div",null,b.a.createElement("button",{type:"button",className:"modern-btn",style:{width:"12rem"},onClick:this.startAgain},"Return to Home")),b.a.createElement("br",null))}}]),n}(b.a.Component),it=Object(x.b)(function(e){var t=e.candidates;return{attributes:e.attributes,mask:e.mask,points:e.points,mode:e.mode,candidates:t,radius:e.radius,selectedDataset:e.selectedDataset}},function(e){return{showResult:function(){e(c("ResultGraph"))},setLeftPoints:function(t){e(p(t))},setRadius:function(t){e(function(e){return{type:"SET_RADIUS",radius:e}}(t))},restartedAgain:function(){e(c("Welcome")),e({type:"RESTART"})},prunePoints:function(t,n){e(f(t,n))},updateConvexHull:function(t){e(g(t))}}})(ot);function lt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(S.a)(e);if(t){var a=Object(S.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(N.a)(this,n)}}var ct=function(e){Object(O.a)(n,e);var t=lt(n);function n(e){return Object(w.a)(this,n),t.call(this,e)}return Object(k.a)(n,[{key:"render",value:function(){return b.a.createElement("div",{className:"text-center m-auto",style:{maxWidth:"50rem"}},b.a.createElement("h1",null,"Thanks for Your Participation!"))}}]),n}(b.a.Component),st=Object(x.b)(function(e){return{attributes:e.attributes,mask:e.mask,points:e.points,mode:e.mode}},function(e){return{}})(ct);var ut=Object(x.b)(function(e){return{candidates:e.candidates,leftPoints:e.leftPoints,attributes:e.attributes,mask:e.mask,numLeftPoints:e.numLeftPoints}},function(e){return{restart:function(){e(c("Welcome")),e({type:"RESTART"})}}})(function(e){var t=e.candidates,n=e.leftPoints,r=e.attributes,a=e.mask,o=e.numLeftPoints,i=e.restart,l=[];r.forEach(function(e){var t=Object(Q.a)(e,2),n=t[0];if(t[1],a[n]){var r=b.a.createElement("th",{key:n},n);l.push(r)}});var c=n.map(function(e,n){return b.a.createElement("tr",{key:n,"data-toggle":"tooltip"},t[e].map(function(e,t){return b.a.createElement("td",{key:t},e)}))});return b.a.createElement("div",{className:"justify-content-center"},b.a.createElement("h4",null,"The Total No. of Questions Asked is: ",o.length-1,"."),b.a.createElement("h4",null,1===n.length?"Your Favourite Tuple is:":"".concat(n.length," Tuples Left in the Database:")),b.a.createElement("table",{className:ke()("table","table-hover",{"table-fixed":c.length>7}),style:{maxWidth:"40rem",margin:"auto"}},b.a.createElement("thead",null,b.a.createElement("tr",null,l)),b.a.createElement("tbody",null,c)),b.a.createElement("div",null,b.a.createElement("div",{className:"row justify-content-center"},b.a.createElement("div",{className:"col-md-auto"},b.a.createElement(Xe,null)),b.a.createElement("div",{className:"col-md-auto"},b.a.createElement(ne,null)))),b.a.createElement("div",null,b.a.createElement("button",{type:"button",className:"modern-btn",style:{width:"12rem"},onClick:i},"Return to Home")))}),ht=n(89),ft=n.n(ht);function pt(){pt=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(T){c=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),l=new N(a||[]);return r(i,"_invoke",{value:x(e,n,l)}),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(T){return{type:"throw",arg:T}}}e.wrap=s;var h={};function f(){}function p(){}function m(){}var d={};c(d,o,function(){return this});var g=Object.getPrototypeOf,v=g&&g(g(S([])));v&&v!==t&&n.call(v,o)&&(d=v);var y=m.prototype=f.prototype=Object.create(d);function b(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;r(this,"_invoke",{value:function(r,o){function i(){return new t(function(a,i){!function r(a,o,i,l){var c=u(e[a],e,o);if("throw"!==c.type){var s=c.arg,h=s.value;return h&&"object"==typeof h&&n.call(h,"__await")?t.resolve(h.__await).then(function(e){r("next",e,i,l)},function(e){r("throw",e,i,l)}):t.resolve(h).then(function(e){s.value=e,i(s)},function(e){return r("throw",e,i,l)})}l(c.arg)}(r,o,a,i)})}return a=a?a.then(i,i):i()}})}function x(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return j()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var l=w(i,n);if(l){if(l===h)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function w(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,h;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:j}}function j(){return{value:void 0,done:!0}}return p.prototype=m,r(y,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:p,configurable:!0}),p.displayName=c(m,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,l,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),c(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new E(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(y),c(y,l,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=S,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function mt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(S.a)(e);if(t){var a=Object(S.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(N.a)(this,n)}}var dt=function(e){Object(O.a)(n,e);var t=mt(n);function n(e){var r;return Object(w.a)(this,n),(r=t.call(this,e)).handleStart=function(){for(var e,t=[],n=[],a=0;a<r.props.attributes.length;++a){var o=Object(Q.a)(r.props.attributes[a],2),i=o[0];o[1];n.push(r.props.mask[i])}for(var l=0;l<r.props.attributes.slice(3).length;++l){var c=Object(Q.a)(r.props.attributes.slice(3)[l],2),s=c[0],u=c[1],h=[u.low,u.high];if(r.props.mask[s])for(var f=0;f<2;++f){var p=r.inputs[s][f].current.value.trim();if(""!==p){if(isNaN(p))return void alert("".concat(p," in range of ").concat(s," is not an integer"));h[f]=parseFloat(p)}}t.push(h)}var m=r.inputs.maxPoints.current.value.trim();if(console.log("input number",m),""===m)e=1e3;else{if(!/\d+/.test(m))return void alert("".concat(m," for Maximum items is not an integer"));e=parseInt(m)}if(e>4e4||e<100)return alert("The input is out of the range, please input a number between 1000 ~ 40000");if(console.log("ranges",t),console.log("mask",n),console.log("maxPoints",e),["gegraph"].includes(r.props.mode)){var d=R(r.props.points,t,n,e);if(0===d.length)return void alert("No matching Tuples, try larger ranges");console.log("attr",r.props.attributes);var g=r.props.attributes.map(function(e){var t=Object(Q.a)(e,2),n=t[0];t[1];return r.props.mask[n]}),v=r.props.attributes.slice(3).map(function(e){var t=Object(Q.a)(e,2);t[0];return t[1].smallerBetter?1:0});console.log("input points--",d,g,v);var y=M(d,v,g);if(y.length<10)return console.log("skyline",y),alert("Too few valid tuples! Try more attributes, looser ranges, larger Max No. of Tuples or larger datasets!");console.log("skyline",y),r.props.startAlgorithmGEGraph(y)}else{if(Object.values(r.props.mask).slice(0,3).filter(function(e){return 1===e}).length<1)return alert("You need to select at least one categorical attribute!");var b=P(r.props.points,n);r.props.startAlgorithmSPTree(b)}},r.handleChange=function(e){if(["gegraph"].includes(e.target.value)){if(Object.values(r.props.mask).slice(0,3).filter(function(e){return 1===e}).length>2)return alert(e.target.value+" only supports two categorical attributes!"),void r.setState({selectedAlgorithm:"sptree"});r.props.attributes.slice(3).map(function(e){var t=Object(Q.a)(e,2),n=t[0];t[1];r.props.toggleMask(n,1)})}else["sptree"].includes(e.target.value)&&r.props.attributes.slice(3).map(function(e){var t=Object(Q.a)(e,2),n=t[0];t[1];r.props.toggleMask(n,0)});r.setState({selectedAlgorithm:e.target.value}),r.props.changeMode(e.target.value)},r.isCatAble=function(e,t){if(1===e){if(Object.values(r.props.mask).slice(0,3).filter(function(e){return 1===e}).length<=1)return alert("You need to select at least one categorical attribute!");r.props.toggleMask(t,1-r.props.mask[t])}else{if("gegraph"===r.props.mode&&Object.values(r.props.mask).slice(0,3).filter(function(e){return 1===e}).length>=2)return alert("You can only select at most two categorical attributes!");r.props.toggleMask(t,1-r.props.mask[t])}},r.isNumAble=function(e,t){if(1===e){if(Object.values(r.props.mask).slice(3).filter(function(e){return 1===e}).length<=3)return alert("You need to select at least three numerical attributes!");r.props.toggleMask(t,1-r.props.mask[t])}else r.props.toggleMask(t,1-r.props.mask[t])},r.state={selectedAlgorithm:"sptree",points1:null},r}return Object(k.a)(n,[{key:"componentDidMount",value:function(){var e=Object(r.a)(pt().mark(function e(){var t,n,r;return pt().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T("./datasets/car.txt");case 2:t=e.sent,r={},(n=[["Type"],["Power"],["Transmission"],["Price (USD)",{low:1e3,high:5e4,smallerBetter:!0}],["Year",{low:2001,high:2017,smallerBetter:!1}],["Power (HP)",{low:50,high:400,smallerBetter:!1}],["Used KM",{low:1e4,high:15e4,smallerBetter:!0}]]).slice(0,3).forEach(function(e){var t=Object(Q.a)(e,1)[0];r[t]=1}),n.slice(3).forEach(function(e){var t=Object(Q.a)(e,2),n=t[0];t[1];r[n]=0}),this.props.setDataset(t,r,n),this.props.changeMode("sptree"),console.log(this.props.mode),this.setState({points1:t});case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;if(null===this.state.points1)return b.a.createElement("div",null,"Loading...");this.inputs={},this.props.attributes.slice(3).forEach(function(t){var n=Object(Q.a)(t,2),r=n[0];n[1];e.inputs[r]=[b.a.createRef(),b.a.createRef()]}),this.inputs.maxPoints=b.a.createRef();var t=[["Kleinwagen","Limousine","Kombi"],["Lpg","Diesel","Cng","Benzin"],["Auto","Manual"]],n=this.props.attributes.slice(0,3).map(function(n,r){var a=e.props.mask[n];return b.a.createElement("tr",{key:n},b.a.createElement("td",{className:"align-middle"},b.a.createElement("span",{className:"".concat(e.props.mask[n]?"attribute-select":null),style:{textDecoration:e.props.mask[n]?"":"line-through"}},n)),b.a.createElement("td",null,b.a.createElement("span",{style:{textDecoration:e.props.mask[n]?"":"line-through"}},t[r].join(", "))),b.a.createElement("td",{className:"align-middle"},b.a.createElement("input",{type:"checkbox",className:"large-checkbox",checked:a,onChange:function(){return e.isCatAble(a,n)},style:{cursor:"pointer"}})))}),r=this.props.attributes.slice(3).map(function(t,n){var r=Object(Q.a)(t,2),a=r[0],o=r[1],i=e.props.mask[a],l=o.low,c=o.high;return b.a.createElement("tr",{key:a},b.a.createElement("td",{className:"align-middle"},b.a.createElement("span",{className:"".concat(e.props.mask[a]?"attribute-select":null),style:{textDecoration:e.props.mask[a]?"":"line-through"}},a)),b.a.createElement("td",null,b.a.createElement("input",{type:"text",className:"form-control",placeholder:l,ref:e.inputs[a][0],disabled:1-i})),b.a.createElement("td",null,b.a.createElement("input",{type:"text",className:"form-control",placeholder:c,ref:e.inputs[a][1],disabled:1-i})),b.a.createElement("td",{className:"align-middle"},b.a.createElement("input",{type:"checkbox",className:"large-checkbox",checked:i,disabled:["sptree"].includes(e.props.mode),onChange:function(){return e.isNumAble(i,a)},style:{cursor:"pointer"}})))}),a=[];a.push(b.a.createElement("tr",{key:"other"},b.a.createElement("td",{className:"align-middle font-weight-bold"},"Maximum No. of Cars"),b.a.createElement("td",{colSpan:"20"},b.a.createElement("input",{type:"text",className:"form-control",placeholder:"1000",ref:this.inputs.maxPoints,style:{width:"50%"}}))));var o=[];return o.push(b.a.createElement("tr",null,b.a.createElement("td",{className:"align-middle",colSpan:"2"},b.a.createElement("div",{className:"form-check form-check-inline custom-radio-spacing"},b.a.createElement("input",{className:"form-check-input",type:"radio",name:"algorithm",value:"sptree",onChange:this.handleChange,id:"sptreeRadio",checked:"sptree"===this.state.selectedAlgorithm}),b.a.createElement("label",{className:"form-check-label",htmlFor:"sptreeRadio"},"SP-Tree")),b.a.createElement("div",{className:"form-check form-check-inline"},b.a.createElement("input",{className:"form-check-input",type:"radio",name:"algorithm",value:"gegraph",onChange:this.handleChange,id:"gegraphRadio",checked:"gegraph"===this.state.selectedAlgorithm}),b.a.createElement("label",{className:"form-check-label",htmlFor:"gegraphRadio"},"GE-Graph"))))),b.a.createElement("div",{className:"text-center m-auto",style:{maxWidth:"100%"}},b.a.createElement("img",{alt:"",src:ft.a,style:{width:"100%"}}),b.a.createElement("br",null),b.a.createElement("br",null),b.a.createElement("h4",{style:{background:"linear-gradient(to right, #89bfe9, #5271a6)",borderRadius:"5px",textAlign:"left",padding:"5px",boxShadow:"3px 3px 5px rgba(0, 0, 0, 0.5)"}},b.a.createElement("strong",null,b.a.createElement("em",null,"STEP 1:"))," Select the Algorithms for Recommendation"),b.a.createElement("table",{className:"table"},b.a.createElement("tbody",null,o)),b.a.createElement("h4",{style:{background:"linear-gradient(to right, #89bfe9, #5271a6)",borderRadius:"5px",textAlign:"left",padding:"5px",boxShadow:"3px 3px 5px rgba(0, 0, 0, 0.5)"}},b.a.createElement("strong",null,b.a.createElement("em",null,"STEP 2:"))," Select the Categorical Attributes You Concern"),b.a.createElement("table",{className:"table"},b.a.createElement("thead",null,b.a.createElement("tr",null,b.a.createElement("th",{className:"align-middle"},"Categorical Attributes"),b.a.createElement("th",null,"Values"),b.a.createElement("th",null,"Selection"))),b.a.createElement("tbody",null,n)),b.a.createElement("h4",{style:{background:"linear-gradient(to right, #89bfe9, #5271a6)",borderRadius:"5px",textAlign:"left",padding:"5px",boxShadow:"3px 3px 5px rgba(0, 0, 0, 0.5)"}},b.a.createElement("strong",null,b.a.createElement("em",null,"STEP 3:"))," Select the Numerical Attributes You Concern"),b.a.createElement("table",{className:"table"},b.a.createElement("thead",null,b.a.createElement("tr",null,b.a.createElement("th",{className:"align-middle"},"Numerical Attributes"),b.a.createElement("th",null,"Lower bound"),b.a.createElement("th",null,"Upper bound"),b.a.createElement("th",null,"Selection"))),b.a.createElement("tbody",null,r)),b.a.createElement("h4",{style:{background:"linear-gradient(to right, #89bfe9, #5271a6)",borderRadius:"5px",textAlign:"left",padding:"5px",boxShadow:"3px 3px 5px rgba(0, 0, 0, 0.5)"}},b.a.createElement("strong",null,b.a.createElement("em",null,"STEP 4:"))," Set the Maximum Number of Candidate Cars"),b.a.createElement("table",{className:"table"},b.a.createElement("tbody",null,a)),b.a.createElement("div",null,b.a.createElement("button",{type:"button",className:"modern-btn",style:{width:"8rem"},onClick:this.handleStart},"Next")),b.a.createElement("br",null))}}]),n}(b.a.Component),gt=Object(x.b)(function(e){return{attributes:e.attributes,mask:e.mask,points:e.points,mode:e.mode}},function(e){return{startAlgorithmSPTree:function(t){e(s(t)),e(c("SPTree"))},startAlgorithmGEGraph:function(t){e(s(t)),e(c("GEGraph"))},toggleMask:function(t,n){return e(h(t,n))},changeMode:function(t){return e(m(t))},changeK:function(t){return e(d(t))},setDataset:function(t,n,r){return e(u(t,n,r))}}})(dt),vt=n(90),yt=n.n(vt);function bt(){bt=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(T){c=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),l=new N(a||[]);return r(i,"_invoke",{value:x(e,n,l)}),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(T){return{type:"throw",arg:T}}}e.wrap=s;var h={};function f(){}function p(){}function m(){}var d={};c(d,o,function(){return this});var g=Object.getPrototypeOf,v=g&&g(g(S([])));v&&v!==t&&n.call(v,o)&&(d=v);var y=m.prototype=f.prototype=Object.create(d);function b(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;r(this,"_invoke",{value:function(r,o){function i(){return new t(function(a,i){!function r(a,o,i,l){var c=u(e[a],e,o);if("throw"!==c.type){var s=c.arg,h=s.value;return h&&"object"==typeof h&&n.call(h,"__await")?t.resolve(h.__await).then(function(e){r("next",e,i,l)},function(e){r("throw",e,i,l)}):t.resolve(h).then(function(e){s.value=e,i(s)},function(e){return r("throw",e,i,l)})}l(c.arg)}(r,o,a,i)})}return a=a?a.then(i,i):i()}})}function x(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return j()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var l=w(i,n);if(l){if(l===h)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function w(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,h;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:j}}function j(){return{value:void 0,done:!0}}return p.prototype=m,r(y,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:p,configurable:!0}),p.displayName=c(m,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,l,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),c(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new E(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(y),c(y,l,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=S,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function Et(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(S.a)(e);if(t){var a=Object(S.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(N.a)(this,n)}}var xt=function(e){Object(O.a)(n,e);var t=Et(n);function n(e){var r;return Object(w.a)(this,n),(r=t.call(this,e)).handleStart=function(){for(var e,t=[],n=[],a=0;a<r.props.attributes.length;++a){var o=Object(Q.a)(r.props.attributes[a],2),i=o[0];o[1];n.push(r.props.mask[i])}for(var l=0;l<r.props.attributes.slice(3).length;++l){var c=Object(Q.a)(r.props.attributes.slice(3)[l],2),s=c[0],u=c[1],h=[u.low,u.high];if(r.props.mask[s])for(var f=0;f<2;++f){var p=r.inputs[s][f].current.value.trim();if(""!==p){if(isNaN(p))return void alert("".concat(p," in range of ").concat(s," is not an integer"));h[f]=parseFloat(p)}}t.push(h)}var m=r.inputs.maxPoints.current.value.trim();if(console.log("input number",m),""===m)e=1e3;else{if(!/\d+/.test(m))return void alert("".concat(m," for Maximum items is not an integer"));e=parseInt(m)}if(e>4e4||e<100)return alert("The input is out of the range, please input a number between 1000 ~ 40000");if(console.log("ranges",t),console.log("mask",n),console.log("maxPoints",e),["gegraph"].includes(r.props.mode)){var d=R(r.props.points,t,n,e);if(0===d.length)return void alert("No matching Tuples, try larger ranges");console.log("attr",r.props.attributes);var g=r.props.attributes.map(function(e){var t=Object(Q.a)(e,2),n=t[0];t[1];return r.props.mask[n]}),v=r.props.attributes.slice(3).map(function(e){var t=Object(Q.a)(e,2);t[0];return t[1].smallerBetter?1:0});console.log("input points--",d,g,v);var y=M(d,v,g);if(y.length<10)return console.log("skyline",y),alert("Too few valid tuples! Try more attributes, looser ranges, larger Max No. of Tuples or larger datasets!");console.log("skyline",y),r.props.startAlgorithmGEGraph(y)}else{if(Object.values(r.props.mask).slice(0,3).filter(function(e){return 1===e}).length<1)return alert("You need to select at least one categorical attribute!");var b=P(r.props.points,n);r.props.startAlgorithmSPTree(b)}},r.handleChange=function(e){if(["gegraph"].includes(e.target.value)){if(Object.values(r.props.mask).slice(0,3).filter(function(e){return 1===e}).length>2)return alert(e.target.value+" only supports two categorical attributes!"),void r.setState({selectedAlgorithm:"sptree"});r.props.attributes.slice(3).map(function(e){var t=Object(Q.a)(e,2),n=t[0];t[1];r.props.toggleMask(n,1)})}else["sptree"].includes(e.target.value)&&r.props.attributes.slice(3).map(function(e){var t=Object(Q.a)(e,2),n=t[0];t[1];r.props.toggleMask(n,0)});r.setState({selectedAlgorithm:e.target.value}),r.props.changeMode(e.target.value)},r.isCatAble=function(e,t){if(console.log(r.props.mask),1===e){if(Object.values(r.props.mask).slice(0,3).filter(function(e){return 1===e}).length<=1)return alert("You need to select at least one categorical attribute!");r.props.toggleMask(t,1-r.props.mask[t])}else{if("gegraph"===r.props.mode&&Object.values(r.props.mask).slice(0,3).filter(function(e){return 1===e}).length>=2)return alert("You can only select at most two categorical attributes!");r.props.toggleMask(t,1-r.props.mask[t])}},r.isNumAble=function(e,t){if(console.log(r.props.mask),1===e){if(Object.values(r.props.mask).slice(3).filter(function(e){return 1===e}).length<=3)return alert("You need to select at least three numerical attributes!");r.props.toggleMask(t,1-r.props.mask[t])}else r.props.toggleMask(t,1-r.props.mask[t])},r.state={selectedAlgorithm:"sptree",points1:null},r}return Object(k.a)(n,[{key:"componentDidMount",value:function(){var e=Object(r.a)(bt().mark(function e(){var t,n,r;return bt().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T("./datasets/nba.txt");case 2:t=e.sent,r={},(n=[["Position"],["Style"],["Division"],["Score",{low:0,high:30,smallerBetter:!0}],["Foul",{low:0,high:6,smallerBetter:!1}],["Rebound",{low:0,high:15,smallerBetter:!1}],["Turnover",{low:0,high:10,smallerBetter:!0}]]).slice(0,3).forEach(function(e){var t=Object(Q.a)(e,1)[0];r[t]=1}),n.slice(3).forEach(function(e){var t=Object(Q.a)(e,2),n=t[0];t[1];r[n]=0}),this.props.setDataset(t,r,n),this.props.changeMode("sptree"),console.log(this.props.mode),this.setState({points1:t});case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;if(console.log(this.props.mask),null===this.state.points1)return b.a.createElement("div",null,"Loading...");this.inputs={},this.props.attributes.slice(3).forEach(function(t){var n=Object(Q.a)(t,2),r=n[0];n[1];e.inputs[r]=[b.a.createRef(),b.a.createRef()]}),this.inputs.maxPoints=b.a.createRef();var t=[["Forward","Center","Guard"],["Slasher","Players","Facilitator","Defender"],["West","East"]],n=this.props.attributes.slice(0,3).map(function(n,r){var a=e.props.mask[n];return b.a.createElement("tr",{key:n},b.a.createElement("td",{className:"align-middle"},b.a.createElement("span",{className:"".concat(e.props.mask[n]?"attribute-select":null),style:{textDecoration:e.props.mask[n]?"":"line-through"}},n)),b.a.createElement("td",null,b.a.createElement("span",{style:{textDecoration:e.props.mask[n]?"":"line-through"}},t[r].join(", "))),b.a.createElement("td",{className:"align-middle"},b.a.createElement("input",{type:"checkbox",className:"large-checkbox",checked:a,onChange:function(){return e.isCatAble(a,n)},style:{cursor:"pointer"}})))}),r=this.props.attributes.slice(3).map(function(t,n){var r=Object(Q.a)(t,2),a=r[0],o=r[1],i=e.props.mask[a],l=o.low,c=o.high;return b.a.createElement("tr",{key:a},b.a.createElement("td",{className:"align-middle"},b.a.createElement("span",{className:"".concat(e.props.mask[a]?"attribute-select":null),style:{textDecoration:e.props.mask[a]?"":"line-through"}},a)),b.a.createElement("td",null,b.a.createElement("input",{type:"text",className:"form-control",placeholder:l,ref:e.inputs[a][0],disabled:1-i})),b.a.createElement("td",null,b.a.createElement("input",{type:"text",className:"form-control",placeholder:c,ref:e.inputs[a][1],disabled:1-i})),b.a.createElement("td",{className:"align-middle"},b.a.createElement("input",{type:"checkbox",className:"large-checkbox",checked:i,disabled:["sptree"].includes(e.props.mode),onChange:function(){return e.isNumAble(i,a)},style:{cursor:"pointer"}})))}),a=[];a.push(b.a.createElement("tr",{key:"other"},b.a.createElement("td",{className:"align-middle font-weight-bold"},"Maximum No. of Players"),b.a.createElement("td",{colSpan:"20"},b.a.createElement("input",{type:"text",className:"form-control",placeholder:"1000",ref:this.inputs.maxPoints,style:{width:"50%"}}))));var o=[];return o.push(b.a.createElement("tr",null,b.a.createElement("td",{className:"align-middle",colSpan:"2"},b.a.createElement("div",{className:"form-check form-check-inline custom-radio-spacing"},b.a.createElement("input",{className:"form-check-input",type:"radio",name:"algorithm",value:"sptree",onChange:this.handleChange,id:"sptreeRadio",checked:"sptree"===this.state.selectedAlgorithm}),b.a.createElement("label",{className:"form-check-label",htmlFor:"sptreeRadio"},"SP-Tree")),b.a.createElement("div",{className:"form-check form-check-inline"},b.a.createElement("input",{className:"form-check-input",type:"radio",name:"algorithm",value:"gegraph",onChange:this.handleChange,id:"gegraphRadio",checked:"gegraph"===this.state.selectedAlgorithm}),b.a.createElement("label",{className:"form-check-label",htmlFor:"gegraphRadio"},"GE-Graph"))))),b.a.createElement("div",{className:"text-center m-auto",style:{maxWidth:"100%"}},b.a.createElement("img",{alt:"",src:yt.a,style:{width:"100%"}}),b.a.createElement("br",null),b.a.createElement("br",null),b.a.createElement("h4",{style:{background:"linear-gradient(to right, #89bfe9, #5271a6)",borderRadius:"5px",textAlign:"left",padding:"5px",boxShadow:"3px 3px 5px rgba(0, 0, 0, 0.5)"}},b.a.createElement("strong",null,b.a.createElement("em",null,"STEP 1:"))," Select the Algorithms for Recommendation"),b.a.createElement("table",{className:"table"},b.a.createElement("tbody",null,o)),b.a.createElement("h4",{style:{background:"linear-gradient(to right, #89bfe9, #5271a6)",borderRadius:"5px",textAlign:"left",padding:"5px",boxShadow:"3px 3px 5px rgba(0, 0, 0, 0.5)"}},b.a.createElement("strong",null,b.a.createElement("em",null,"STEP 2:"))," Select the Categorical Attributes You Concern"),b.a.createElement("table",{className:"table"},b.a.createElement("thead",null,b.a.createElement("tr",null,b.a.createElement("th",{className:"align-middle"},"Categorical Attributes"),b.a.createElement("th",null,"Values"),b.a.createElement("th",null,"Selection"))),b.a.createElement("tbody",null,n)),b.a.createElement("h4",{style:{background:"linear-gradient(to right, #89bfe9, #5271a6)",borderRadius:"5px",textAlign:"left",padding:"5px",boxShadow:"3px 3px 5px rgba(0, 0, 0, 0.5)"}},b.a.createElement("strong",null,b.a.createElement("em",null,"STEP 3:"))," Select the Numerical Attributes You Concern"),b.a.createElement("table",{className:"table"},b.a.createElement("thead",null,b.a.createElement("tr",null,b.a.createElement("th",{className:"align-middle"},"Numerical Attributes"),b.a.createElement("th",null,"Lower bound"),b.a.createElement("th",null,"Upper bound"),b.a.createElement("th",null,"Selection"))),b.a.createElement("tbody",null,r)),b.a.createElement("h4",{style:{background:"linear-gradient(to right, #89bfe9, #5271a6)",borderRadius:"5px",textAlign:"left",padding:"5px",boxShadow:"3px 3px 5px rgba(0, 0, 0, 0.5)"}},b.a.createElement("strong",null,b.a.createElement("em",null,"STEP 4:"))," Set the Maximum Number of Candidate Players"),b.a.createElement("table",{className:"table"},b.a.createElement("tbody",null,a)),b.a.createElement("div",null,b.a.createElement("button",{type:"button",className:"modern-btn",style:{width:"8rem"},onClick:this.handleStart},"Next")),b.a.createElement("br",null))}}]),n}(b.a.Component),wt=Object(x.b)(function(e){return{attributes:e.attributes,mask:e.mask,points:e.points,mode:e.mode}},function(e){return{startAlgorithmSPTree:function(t){e(s(t)),e(c("SPTree"))},startAlgorithmGEGraph:function(t){e(s(t)),e(c("GEGraph"))},toggleMask:function(t,n){return e(h(t,n))},changeMode:function(t){return e(m(t))},changeK:function(t){return e(d(t))},setDataset:function(t,n,r){return e(u(t,n,r))}}})(xt);var kt=Object(x.b)(function(e){return{activeComponent:e.activeComponent}})(function(e){switch(e.activeComponent){case"Welcome":return b.a.createElement(V,null);case"CarWelcome":return b.a.createElement(gt,null);case"NBAWelcome":return b.a.createElement(wt,null);case"AlgSelection":return b.a.createElement(U,null);case"SPTree":return b.a.createElement(Ye,null);case"GEGraph":return b.a.createElement(it,null);case"Introduction":return b.a.createElement(Y,null);case"ResultGraph":return b.a.createElement(ut,null);case"PhaseTwo":return b.a.createElement(Re,null);case"Result":return b.a.createElement(Pe,null);case"End":return b.a.createElement(st,null);default:return b.a.createElement("div",null)}});function Ot(){Ot=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(T){c=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),l=new N(a||[]);return r(i,"_invoke",{value:x(e,n,l)}),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(T){return{type:"throw",arg:T}}}e.wrap=s;var h={};function f(){}function p(){}function m(){}var d={};c(d,o,function(){return this});var g=Object.getPrototypeOf,v=g&&g(g(S([])));v&&v!==t&&n.call(v,o)&&(d=v);var y=m.prototype=f.prototype=Object.create(d);function b(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var a;r(this,"_invoke",{value:function(r,o){function i(){return new t(function(a,i){!function r(a,o,i,l){var c=u(e[a],e,o);if("throw"!==c.type){var s=c.arg,h=s.value;return h&&"object"==typeof h&&n.call(h,"__await")?t.resolve(h.__await).then(function(e){r("next",e,i,l)},function(e){r("throw",e,i,l)}):t.resolve(h).then(function(e){s.value=e,i(s)},function(e){return r("throw",e,i,l)})}l(c.arg)}(r,o,a,i)})}return a=a?a.then(i,i):i()}})}function x(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return j()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var l=w(i,n);if(l){if(l===h)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function w(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,h;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:j}}function j(){return{value:void 0,done:!0}}return p.prototype=m,r(y,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:p,configurable:!0}),p.displayName=c(m,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,l,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),c(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new E(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(y),c(y,l,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=S,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}window.Module={onRuntimeInitialized:function(){var e=Object(r.a)(Ot().mark(function e(){var t;return Ot().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=Object(a.c)(v),Object(E.render)(b.a.createElement(x.a,{store:t},b.a.createElement(kt,null)),document.getElementById("root"));case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()};var Nt=document.createElement("script");Nt.src="run.js",Nt.async=!0,document.body.appendChild(Nt)},49:function(e,t,n){e.exports=n.p+"static/media/favorite.39847071.png"},50:function(e,t,n){e.exports=n.p+"static/media/SelectCatAttr.9d9e8f43.png"},51:function(e,t,n){},61:function(e,t,n){},83:function(e,t,n){e.exports=n.p+"static/media/MainTitleAll.40deea18.png"},86:function(e,t,n){e.exports=n.p+"static/media/TitleTree.9f1e9ded.png"},88:function(e,t,n){e.exports=n.p+"static/media/TitleGraph.46bc3ca8.png"},89:function(e,t,n){e.exports=n.p+"static/media/MainTitle.41f0125d.png"},90:function(e,t,n){e.exports=n.p+"static/media/MainTitleBall.e11ecd04.png"}},[[119,2,1]]]);
//# sourceMappingURL=main.8dedebaf.chunk.js.map